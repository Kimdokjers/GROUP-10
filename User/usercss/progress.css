:root {
    /* Base Theme Colors (Keep consistent) */
    --bg-color: #000;
    --snd-bf-color: #111;
    --text-color: #ffffff; /* Default light text */
    --main-color: #FFD700; /* Primary Gold */
    --color-black: #0a0a0a;
    --color-dark-gray: #1a1a1a; /* Main dark background for cards */
    --color-gold-light: #f0c44c;
    --color-text-muted: #aaaaaa; /* Muted light text */
    --border-color-light: #333; /* Dark border */
    --header-height-desktop: 100px;
    --header-height-mobile: 80px;
    --font-primary: 'Poppins', sans-serif;

    /* Progress Page Specific Theme Variables */
    --card-bg-setgoals: var(--color-dark-gray); /* CHANGED: Dark background for cards */
    --text-dark-setgoals: var(--text-color); /* CHANGED: Light text for dark cards */
    --text-muted-setgoals: var(--color-text-muted); /* Use muted light text */
    --border-color-light-setgoals: var(--border-color-light); /* CHANGED: Darker border */
    --primary-color-darkest-setgoals: var(--main-color); /* CHANGED: Use main gold for emphasis */
    --grid-gap: 1.5rem;
    --content-padding: 1.5rem;
    --button-primary-bg: var(--main-color); /* Keep Gold */
    --button-primary-text: var(--color-black); /* Keep Black text */
    --button-primary-hover-bg: var(--color-gold-light); /* Lighter gold hover */
    --button-secondary-bg: #555; /* CHANGED: Darker secondary button */
    --button-secondary-text: var(--text-color); /* Light text */
    --button-secondary-hover-bg: #666; /* Slightly lighter dark hover */
    --modal-overlay-bg: rgba(0, 0, 0, 0.7);
    --stat-card-icon-color: var(--main-color); /* CHANGED: Use main gold */
    --stat-card-value-color: var(--text-color); /* CHANGED: Light text */
    --stat-card-sub-increase: #4CAF50; /* Keep green */
    --stat-card-sub-decrease: #f44336; /* Keep red */
    --table-header-bg: #252525; /* CHANGED: Darker header bg */
    --table-row-even-bg: #222; /* CHANGED: Slightly different dark for stripes */
    --table-row-hover-bg: #303030; /* CHANGED: Darker hover */
    --table-border-color: var(--border-color-light-setgoals); /* Use dark border var */
    --chart-title-color: var(--text-color); /* CHANGED: Light text */
    --input-bg-setgoals: #252525; /* CHANGED: Dark input bg */
    --input-focus-shadow: rgba(255, 215, 0, 0.3); /* Gold focus glow */
    --modal-bg-setgoals: var(--color-dark-gray); /* CHANGED: Dark modal background */
    --modal-text-setgoals: var(--text-color); /* CHANGED: Light modal text */
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  text-decoration: none;
  list-style: none;
  border: none;
  outline: none;
}

html {
    font-size: 62.5%;
    overflow-x: hidden;
    scroll-behavior: smooth;
}

body { /* Ensure body background is dark */
  background-color: var(--bg-color);
  color: var(--text-color); /* Default text color */
  font-family: var(--font-primary);
  line-height: 1.6;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

img {
    max-width: 100%;
    height: auto;
    display: block;
}

main.content-grid {
    padding-top: calc(var(--header-height-desktop, 100px) + 2rem); /* Ensure enough space */
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: var(--grid-gap);
    padding-left: var(--content-padding);
    padding-right: var(--content-padding);
    padding-bottom: var(--content-padding);
    color: var(--text-dark-setgoals); /* Use light text variable */
}

.card {
    background-color: var(--card-bg-setgoals); /* Use dark bg variable */
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3); /* Darker shadow */
    border: 1px solid var(--border-color-light-setgoals); /* Use dark border variable */
    color: var(--text-dark-setgoals); /* Use light text variable */
}

.calendar-widget {
     border: 2px solid var(--primary-color-darkest-setgoals); /* Keep gold border */
}

.calendar-widget h2,
.calendar-widget .input-block label,
.nutrient-header span:first-child,
#log-meal-modal h3,
#log-meal-modal .logged-items-display h4 {
     color: var(--primary-color-darkest-setgoals) !important; /* Keep Gold for these specific labels */
}

.calendar-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 1rem; font-weight: 500;
    color: var(--text-dark-setgoals); /* Light text */
}
.cal-nav {
    border: 1px solid var(--border-color-light-setgoals); /* Dark border */
    color: var(--text-muted-setgoals); /* Muted light text */
    padding: 3px 8px; border-radius: 4px; cursor: pointer; background: none;
}
.cal-nav:hover {
    color: var(--primary-color-darkest-setgoals); /* Gold hover text */
    border-color: var(--primary-color-darkest-setgoals); /* Gold hover border */
}
.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; text-align: center; margin-bottom: 1.5rem; }
.day-name {
    font-weight: 600; font-size: 0.8rem;
    color: var(--text-muted-setgoals); /* Muted light text */
    text-transform: uppercase;
}
.date-cell { display: flex; justify-content: center; align-items: center; aspect-ratio: 1 / 1; }
.date-cell button {
    width: 100%; height: 100%; border-radius: 50%; border: 2px solid transparent; background-color: transparent;
    color: var(--text-dark-setgoals); /* Light text */
    cursor: pointer; font-size: 0.9rem; transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease; display: flex; align-items: center; justify-content: center; padding: 0;
}
.date-cell button:hover:not(.selected) {
    background-color: #333; /* Darker hover bg */
    border-color: var(--border-color-light-setgoals);
}
.date-cell button.selected {
    background-color: var(--main-color); /* Gold selected bg */
    color: var(--color-black); /* Black selected text */
    font-weight: bold;
    border-color: var(--color-gold-light); /* Lighter gold border */
}
.date-cell.empty { visibility: hidden; }

.calendar-widget .input-block { margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border-color-light-setgoals); }
.calendar-widget .input-block:last-child { border-bottom: none; padding-bottom: 0; margin-bottom: 0; }
/* Label color already set to gold via specific rule above */
.calendar-widget .info-input {
    background-color: var(--input-bg-setgoals); /* Dark input bg */
    border: 1px solid var(--border-color-light-setgoals); /* Dark border */
    color: var(--text-dark-setgoals); /* Light text */
    font-size: 0.95rem; padding: 8px 10px; width: 100%; border-radius: 4px;
}
.calendar-widget .info-input:focus {
    outline: none; border-color: var(--main-color); /* Gold focus border */
    box-shadow: 0 0 0 2px var(--input-focus-shadow); /* Gold focus glow */
}
.calendar-widget .goals-list {
    list-style: disc; padding-left: 20px; margin: 5px 0 0 0; font-size: 0.9rem;
    color: var(--text-muted-setgoals); /* Muted light text */
}
.calendar-widget .goals-list li { margin-bottom: 3px; }

/* --- Modal Theming --- */
#logoutConfirmationModal .modal-content {
    background-color: var(--modal-bg-setgoals); /* CHANGED: Dark modal bg */
    color: var(--modal-text-setgoals); /* CHANGED: Light modal text */
    max-width: 400px; padding: 30px 35px;
    border-color: var(--border-color-light); /* Dark border */
}
#logoutConfirmationModal #logoutModalMessage {
    color: var(--modal-text-setgoals); /* Light text */
    font-size: 1.5rem; margin-top: 10px; margin-bottom: 30px; line-height: 1.5; text-align: center;
}
#logoutConfirmationModal .close-button {
    color: var(--text-muted-setgoals); /* Muted light text */
}
#logoutConfirmationModal .close-button:hover {
    color: var(--text-color); /* Brighter light text */
}
#logoutConfirmationModal .modal-actions button { font-weight: 600; font-size: 0.95rem; margin: 0 8px; min-width: 100px; }
#logoutConfirmationModal #cancelLogoutButton {
    background-color: var(--button-secondary-bg); /* Dark secondary bg */
    color: var(--button-secondary-text); /* Light text */
    border-color: #444; /* Slightly darker border */
}
#logoutConfirmationModal #cancelLogoutButton:hover {
    background-color: var(--button-secondary-hover-bg); /* Darker hover */
}
#logoutConfirmationModal #okLogoutButton {
    background-color: var(--button-primary-bg); /* Gold primary bg */
    color: var(--button-primary-text); /* Black text */
    border-color: var(--main-color); /* Match bg border */
    margin-left: 15px; /* Adjusted margin */
}
#logoutConfirmationModal #okLogoutButton:hover { /* Keep Gold hover */
    background-color: transparent;
    color: var(--main-color);
    box-shadow: 0 0 1.6rem var(--main-color);
    transform: translateY(-2px);
    border-color: var(--main-color);
}


.main-tab-content {
    border: 2px solid var(--primary-color-darkest-setgoals); /* Keep gold border */
    border-radius: 8px;
    background-color: var(--card-bg-setgoals); /* Use dark card bg */
    color: var(--text-dark-setgoals); /* Light text */
    min-width: 0;
    overflow: hidden;
}

.tab-content {
     display: none;
}
.tab-content.active {
     display: block;
     animation: fadeIn 0.5s ease-in-out;
}
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }


.content-placeholder {
    padding: 1.5rem; background-color: transparent; /* Ensure transparent */
    border-radius: 0; border: none; min-height: 300px; box-shadow: none;
}
.content-placeholder h1 { /* Main Tab Titles e.g., "Workout Log Details" */
    font-size: 1.8rem; margin-bottom: 1.5rem; font-weight: 600;
    color: var(--text-dark-setgoals); /* Light text */
    text-align: left; padding-bottom: 0.8rem;
    border-bottom: 2px solid var(--main-color); /* Gold border */
    display: inline-block;
}

.main-content-tabs {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 2rem;
    padding: 1rem 1.5rem;
    border-bottom: 2px solid var(--border-color-light-setgoals); /* Dark border */
    gap: 1rem;
}

button.main-tab-button {
    display: inline-flex; align-items: center; gap: 0.7rem;
    padding: 0.8rem 1.5rem; font-size: 1.5rem; font-weight: 500;
    color: var(--text-muted-setgoals); /* Muted light default text */
    background-color: #333; /* Darker default bg */
    border: 1px solid #444; /* Darker border */
    border-radius: 6px;
    cursor: pointer; transition: all 0.3s ease;
    font-family: inherit;
}
button.main-tab-button i { font-size: 1.8rem; line-height: 1; }
button.main-tab-button:hover {
    background-color: #444; /* Slightly lighter dark hover */
    border-color: #555;
    color: var(--text-color); /* Brighter text on hover */
}
button.main-tab-button.active {
    background-color: var(--main-color); /* Gold active bg */
    color: var(--color-black); /* Black active text */
    font-weight: 600; border-color: var(--color-gold-light); /* Lighter gold border */
    box-shadow: 0 2px 5px rgba(218, 165, 32, 0.2);
}


#tabs-1 .content-placeholder h1::before { content: " "; } /* Removed unnecessary content */
#tabs-1 .workout-type-block { border-bottom: none; padding-bottom: 0; margin-bottom: 1rem;}
#tabs-1 .workout-type {
    font-size: 1.1rem; font-weight: 500;
    color: var(--text-dark-setgoals); /* Light text */
    background-color: var(--input-bg-setgoals); /* Dark bg */
    padding: 10px 15px; border-radius: 4px;
    border: 1px solid var(--border-color-light-setgoals); /* Dark border */
}
.workout-table-container { overflow-x: auto; margin-top: 1rem; }
.workout-table { width: 100%; border-collapse: collapse; font-size: 0.95rem; }
.workout-table th, .workout-table td {
    padding: 12px 15px; text-align: left;
    border: 1px solid var(--table-border-color); /* Dark border */
    color: var(--text-dark-setgoals); /* Light text for cells */
}
.workout-table th {
    background-color: var(--table-header-bg); /* Dark header bg */
    font-weight: 600;
    color: var(--primary-color-darkest-setgoals); /* Gold header text */
    text-transform: uppercase; font-size: 0.85rem;
}
.workout-table tbody tr:nth-child(even) {
    background-color: var(--table-row-even-bg); /* Dark stripe bg */
}
.workout-table tbody tr:hover {
    background-color: var(--table-row-hover-bg); /* Dark hover bg */
}
.workout-table .notes-cell {
    font-style: italic;
    color: var(--text-muted-setgoals); /* Muted light text */
    font-size: 0.9em;
}

/* --- START: Styles for Daily Log and Coach Feedback --- */
.daily-log-section, .coach-feedback-section {
    margin-top: 2.5rem;
    padding: 1.5rem;
    background-color: var(--snd-bf-color);
    border: 1px solid var(--border-color-light-setgoals);
    border-radius: 6px;
}

.daily-log-section h3, .coach-feedback-section h3 { /* Section Titles: "Daily Activity Summary", "Coach Feedback" */
    font-size: 1.6rem; /* Level 3 Heading */
    color: var(--primary-color-darkest-setgoals);
    margin-bottom: 1.2rem;
    padding-bottom: 0.6rem;
    border-bottom: 1px solid var(--border-color-light-setgoals);
    font-weight: 600;
}

.daily-log-section h4 { /* Sub-section Title: "Log Exercise Details" */
    font-size: 1.5rem; /* Level 4 Heading */
    color: var(--text-dark-setgoals);
    font-weight: 500;
    margin-bottom: 1rem;
    margin-top: 1rem; /* Space it from any element above */
}

.exercise-log-entry-fields {
    border: 1px solid var(--border-color-light);
    padding: 1.2rem;
    border-radius: 4px;
    margin-bottom: 1.5rem;
    background-color: var(--color-dark-gray); /* Slightly different bg for the group */
}

.exercise-log-entry-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive columns */
    gap: 1.2rem;
    margin-bottom: 1rem;
}

.exercise-log-form-group {
    display: flex;
    flex-direction: column;
}
.exercise-log-form-group.full-width {
    grid-column: 1 / -1; /* Span full width in grid */
}

.exercise-log-form-group label { /* Labels for specific exercise inputs */
    font-size: 1.35rem; /* Smaller than general labels */
    font-weight: 500;
    color: var(--text-muted-setgoals);
    margin-bottom: 0.6rem;
}

.log-input-field { /* Common class for new input fields */
    width: 100%;
    padding: 10px 12px;
    font-size: 1.3rem; /* Text size for these inputs */
    font-family: var(--font-primary);
    background-color: var(--input-bg-setgoals);
    border: 1px solid var(--border-color-light-setgoals);
    color: var(--text-dark-setgoals);
    border-radius: 4px;
}
.log-input-field::placeholder {
    color: var(--text-muted-setgoals);
    font-size: 1.2rem;
}
.log-input-field:focus {
    outline: none;
    border-color: var(--main-color);
    box-shadow: 0 0 0 2px var(--input-focus-shadow);
}
.exercise-log-form-group textarea.log-input-field { /* Specific textarea for exercise notes */
    min-height: 80px;
    resize: vertical;
    line-height: 1.5;
}

.add-exercise-button { /* For "Add Another Exercise" */
    margin-bottom: 1.5rem; /* Space before overall summary */
    background-color: var(--button-secondary-bg);
    color: var(--button-secondary-text);
    border-color: #444;
}
.add-exercise-button:hover {
    background-color: var(--button-secondary-hover-bg);
    border-color: #555;
}

.general-summary-area { /* Container for the overall daily notes */
    margin-bottom: 1.5rem;
    margin-top: 1rem; /* Add some space if "Add Exercise" button is removed or for structure */
}
.general-summary-area label { /* Label for "Overall Daily Notes" */
    display: block;
    font-size: 1.4rem; /* Kept as original */
    font-weight: 500;
    color: var(--text-dark-setgoals);
    margin-bottom: 0.8rem;
}
.general-summary-area textarea { /* Textarea for "Overall Daily Notes" */
    width: 100%;
    min-height: 100px;
    padding: 12px 15px;
    font-size: 1.3rem; /* Kept as original */
    font-family: var(--font-primary);
    background-color: var(--input-bg-setgoals);
    border: 1px solid var(--border-color-light-setgoals);
    color: var(--text-dark-setgoals);
    border-radius: 4px;
    resize: vertical;
    line-height: 1.6;
}
.general-summary-area textarea::placeholder {
    color: var(--text-muted-setgoals);
}
.general-summary-area textarea:focus {
    outline: none;
    border-color: var(--main-color);
    box-shadow: 0 0 0 3px var(--input-focus-shadow);
}


.action-button { /* General button for save/submit */
    padding: 0.9rem 1.8rem;
    font-size: 1.4rem;
    font-weight: 500;
    color: var(--button-primary-text);
    background-color: var(--button-primary-bg);
    border: 1px solid var(--main-color);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}
.action-button:hover {
    background-color: var(--button-primary-hover-bg);
    border-color: var(--color-gold-light);
    transform: translateY(-1px);
}
.action-button i {
    font-size: 1.5rem;
}

/* Coach Feedback Styles (remain largely the same) */
.coach-comment-input-area { margin-bottom: 1.5rem;}
.coach-comment-input-area label {
    display: block;
    font-size: 1.4rem;
    font-weight: 500;
    color: var(--text-dark-setgoals);
    margin-bottom: 0.8rem;
}
.coach-comment-input-area textarea {
    width: 100%;
    min-height: 100px;
    padding: 12px 15px;
    font-size: 1.3rem;
    font-family: var(--font-primary);
    background-color: var(--input-bg-setgoals);
    border: 1px solid var(--border-color-light-setgoals);
    color: var(--text-dark-setgoals);
    border-radius: 4px;
    resize: vertical;
    line-height: 1.6;
}
 .coach-comment-input-area textarea::placeholder{color: var(--text-muted-setgoals);}
 .coach-comment-input-area textarea:focus{
    outline: none;
    border-color: var(--main-color);
    box-shadow: 0 0 0 3px var(--input-focus-shadow);
 }


.coach-comments-display { margin-bottom: 1.5rem; }
.coach-comment-item {
    background-color: var(--color-dark-gray);
    padding: 1.2rem 1.5rem;
    border-radius: 4px;
    margin-bottom: 1.2rem;
    border-left: 4px solid var(--main-color);
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}
.coach-comment-item p {
    font-size: 1.3rem;
    color: var(--text-dark-setgoals);
    margin: 0 0 0.5rem 0;
    line-height: 1.6;
}
.coach-comment-item .comment-meta {
    font-size: 1.1rem;
    color: var(--text-muted-setgoals);
    font-style: italic;
}
.coach-comment-item .comment-meta .coach-name {
    font-weight: 600;
    color: var(--primary-color-darkest-setgoals);
}
.no-comments {
    font-size: 1.3rem;
    color: var(--text-muted-setgoals);
    padding: 1rem;
    text-align: center;
    border: 1px dashed var(--border-color-light-setgoals);
    border-radius: 4px;
}
/* --- END: Styles for Daily Log and Coach Feedback --- */


#tabs-2 .content-placeholder h1::before { content: " "; }
.card-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: var(--grid-gap); margin-bottom: 2rem; }
.stat-card {
    text-align: center; padding: 1.5rem 1rem;
    background-color: var(--snd-bf-color); /* Use secondary dark bg */
    border-color: var(--border-color-light-setgoals); /* Ensure dark border */
}
.stat-card .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; border-bottom: 1px solid var(--border-color-light-setgoals); padding-bottom: 0.8rem;}
.stat-card .card-header h3 { margin: 0; font-size: 1.1rem; color: var(--text-dark-setgoals); font-weight: 600;}
.stat-card .card-header i { font-size: 1.8rem; color: var(--stat-card-icon-color); /* Gold icon */ }
.stat-card .card-body .value { font-size: 2rem; font-weight: 600; color: var(--stat-card-value-color); /* Light text */ margin: 0 0 5px 0; line-height: 1.2; }
.stat-card .card-body .unit { font-size: 0.9rem; font-weight: 400; color: var(--text-muted-setgoals); margin-left: 3px; }
.stat-card .card-body .sub-value { margin: 0 0 10px 0; font-size: 0.9rem; font-weight: 500; }
.stat-card .card-body .sub-value.increase { color: var(--stat-card-sub-increase); }
.stat-card .card-body .sub-value.decrease { color: var(--stat-card-sub-decrease); }
.stat-card .card-body .description { font-size: 0.85rem; color: var(--text-muted-setgoals); margin: 0; }

.graph-controls {
    display: flex; flex-wrap: wrap; gap: 1.5rem; align-items: center;
    background-color: var(--input-bg-setgoals); /* Dark bg */
    padding: 1rem; border-radius: 5px;
    border: 1px solid var(--border-color-light-setgoals); margin-bottom: 2rem;
}
.control-group { display: flex; align-items: center; gap: 0.5rem; }
.control-group label {
    font-weight: 500;
    color: var(--text-dark-setgoals); /* Light text */
    font-size: 0.95rem;
}
.control-group i { font-size: 1.3rem; color: var(--primary-color-darkest-setgoals); /* Gold icon */ }
.control-group select {
    padding: 8px 12px; border: 1px solid var(--border-color-light-setgoals); border-radius: 4px;
    background-color: var(--snd-bf-color); /* Dark select bg */
    color: var(--text-dark-setgoals); /* Light text */
    font-size: 0.9rem; cursor: pointer;
}
.control-group select:focus {
    outline: none; border-color: var(--main-color); /* Gold focus border */
    box-shadow: 0 0 0 2px var(--input-focus-shadow); /* Gold focus glow */
}
.graph-placeholder {
    background-color: var(--snd-bf-color); /* Dark graph bg */
    padding: 1.5rem; border-radius: 5px;
    border: 1px solid var(--border-color-light-setgoals);
}
.chart-area h3 { text-align: center; margin-bottom: 1.5rem; font-size: 1.3rem; color: var(--chart-title-color); font-weight: 600;}
.canvas-wrapper { position: relative; height: 300px; width: 100%; }
/* Chart.js automatically handles canvas background, but ensure text/ticks are visible */
/* Chart.js options in JS will handle tick colors */


#tabs-3 .content-placeholder h1::before { content: " "; }
.tabs { display: flex; justify-content: center; flex-wrap: wrap; margin-bottom: 1.5rem; border-bottom: 1px solid var(--border-color-light-setgoals); padding-bottom: 0.5rem; gap: 10px; }
.tabs .tab-button {
    color: var(--text-muted-setgoals); /* Muted light default text */
    font-size: 0.95rem; padding: 0.6rem 1rem; border-radius: 4px; transition: color 0.3s ease, background-color 0.3s ease, border-color 0.3s ease; white-space: nowrap;
    border: 2px solid transparent; background-color: transparent; cursor: pointer; font-weight: 500;
}
.tab-button:hover {
    color: var(--text-color); /* Brighter text */
    background-color: #333; /* Darker bg */
}
.tab-button.active {
    background-color: var(--main-color); /* Gold active bg */
    color: var(--color-black); /* Black active text */
    font-weight: 600; border-color: var(--color-gold-light); /* Lighter gold border */
}

.nutrition-tab-content { display: none; padding-top: 1rem; animation: fadeIn 0.5s ease-in-out; }
.nutrition-tab-content.active { display: block; }
.nutrition-tab-content h2 {
    font-size: 1.3rem; margin-bottom: 1.5rem; font-weight: 600;
    color: var(--text-muted-setgoals); /* Muted light text */
    text-align: center;
}
.nutrition-details-full { max-width: 700px; margin: 0 auto; }
.chart-placeholder-container { max-width: 300px; margin: 0 auto 1.5rem auto; position: relative;}

.calories-breakdown { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-bottom: 1.5rem; max-width: 700px; margin-left: auto; margin-right: auto; }
.meal-item {
    display: flex; align-items: center; gap: 10px; padding: 10px 12px;
    background-color: var(--snd-bf-color); /* Secondary dark bg */
    border-radius: 4px; border: 1px solid var(--border-color-light-setgoals); /* Dark border */
}
.meal-info { font-size: 0.9rem; flex-grow: 1; }
.meal-info div:first-child { font-weight: 500; color: var(--text-dark-setgoals); /* Light text */ }
.meal-info div:last-child { color: var(--text-muted-setgoals); font-size: 0.85em; }

/* Add food button needs adjustment if kept */
.add-food-btn {
    background-color: #444; color: var(--text-muted-setgoals); margin-left: auto; border: 1px solid #555; padding: 5px 8px; font-size: 0.9rem; line-height: 1; border-radius: 50%; width: 28px; height: 28px; display: inline-flex; align-items: center; justify-content: center; flex-shrink: 0; cursor: pointer;
}
.add-food-btn:hover { background-color: #555; color: var(--text-color); border-color: #666; }

.calorie-summary {
    display: flex; flex-direction: column; gap: 10px;
    color: var(--text-muted-setgoals); font-size: 1em; margin-top: 1rem; padding-top: 1rem;
    border-top: 1px solid var(--border-color-light-setgoals); max-width: 400px; margin-left: auto; margin-right: auto;
}
.summary-item { display: flex; justify-content: space-between; align-items: center; }
.summary-item span:last-child { font-weight: 600; color: var(--text-dark-setgoals); /* Light text */ }
.summary-item span.exercise { color: #f44336; } /* Keep red */
.summary-item.goal span:last-child { color: var(--primary-color-darkest-setgoals); /* Gold text */ font-size: 1.1em; font-weight: bold; }
.summary-divider { border: none; height: 1px; background-color: var(--border-color-light-setgoals); margin: 5px 0; }
.editable {
    cursor: pointer; border-bottom: 1px dashed var(--primary-color-darkest-setgoals); padding-bottom: 1px; transition: background-color 0.2s ease; display: inline-block;
    color: var(--text-dark-setgoals); /* Ensure editable text is light */
}
.editable:hover { background-color: rgba(255, 215, 0, 0.1); }

.nutrient-header { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 10px; padding: 0 10px 10px 10px; font-size: 0.85em; font-weight: 600; text-align: right; border-bottom: 1px solid var(--border-color-light-setgoals); margin-bottom: 10px; text-transform: uppercase; color: var(--text-muted-setgoals); } /* Muted text for header */
.nutrient-list { list-style: none; max-height: 400px; overflow-y: auto; padding-right: 5px; }
.nutrient-list li { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 10px; padding: 10px; border-bottom: 1px solid #282828; align-items: center; font-size: 0.95em; }
.nutrient-list li:last-child { border-bottom: none; }
.nutrient-list li span:first-child { font-weight: 500; text-align: left; color: var(--text-dark-setgoals); /* Light text */ }
.nutrient-list li span:not(:first-child) { text-align: right; color: var(--text-muted-setgoals); /* Muted light text */ }

.macros-legend { display: flex; flex-direction: column; gap: 1rem; max-width: 500px; margin: 1.5rem auto 0 auto; }
.legend-item {
    display: grid; grid-template-columns: auto 1fr auto auto; align-items: center; gap: 10px; font-size: 0.95em;
    color: var(--text-dark-setgoals); /* Light text */
    padding: 10px; background-color: var(--snd-bf-color); border-radius: 4px; border: 1px solid var(--border-color-light-setgoals);
}
.color-square { width: 14px; height: 14px; display: inline-block; border-radius: 3px; border: 1px solid rgba(255,255,255,0.1); } /* Lighter border for dark */
.legend-item .percentage { font-weight: 500; text-align: right; }
.legend-item .goal-percentage { color: var(--text-muted-setgoals); text-align: right; font-style: italic; font-size: 0.9em; }

/* Responsive adjustments need to consider dark theme */
@media (max-width: 1024px) {
    .navbar-right img.profile-pic {
        /* Inherits base styles */
    }
}

@media (max-width: 992px) {
     main.content-grid {
         grid-template-columns: 1fr;
         padding-top: calc(var(--header-height-mobile, 80px) + 1rem); /* Use correct mobile height */
    }
     .calendar-widget { order: -1; margin-bottom: var(--grid-gap); }
     .workout-table th, .workout-table td { padding: 10px 8px; font-size: 0.9rem;}
     .workout-table .notes-cell { font-size: 0.85em; }
}
 @media (max-width: 767px) {
     main.content-grid {
         padding-top: calc(var(--header-height-mobile, 80px) - 10px + 1rem); /* Use correct mobile height */
     }
     .main-tab-button { font-size: 1.3rem; padding: 0.7rem 1.2rem; }
     .workout-table thead { display: none; }
     .workout-table, .workout-table tbody, .workout-table tr, .workout-table td { display: block; width: 100%; }
     .workout-table tr {
         margin-bottom: 15px; border: 1px solid var(--table-border-color); border-radius: 4px;
         background-color: var(--card-bg-setgoals); /* Use dark card bg for rows */
      }
     .workout-table td { text-align: right; padding-left: 50%; position: relative; border: none; border-bottom: 1px dotted var(--border-color-light-setgoals);}
     .workout-table td:last-child { border-bottom: none; }
     .workout-table td::before {
         content: attr(data-label); position: absolute; left: 10px; width: 45%; padding-right: 10px; white-space: nowrap; text-align: left; font-weight: bold;
         color: var(--primary-color-darkest-setgoals); /* Gold label */
         text-transform: uppercase; font-size: 0.8em;
     }
     .card-container { grid-template-columns: 1fr; }
     .graph-controls { flex-direction: column; align-items: stretch; gap: 1rem; }
     .control-group { justify-content: space-between; }
     .calories-breakdown { grid-template-columns: 1fr; }
     .nutrient-list li, .nutrient-header { font-size: 0.9em; grid-template-columns: 1.5fr 1fr 1fr 1fr; }
     .legend-item { grid-template-columns: auto 1fr auto auto; font-size: 0.9em; }

    .exercise-log-entry-grid {
        grid-template-columns: 1fr; /* Stack on smaller screens */
    }

 }
 @media (max-width: 480px) {
      main.content-grid {
         padding-top: calc(var(--header-height-mobile, 80px) - 20px + 1rem); /* Use correct mobile height */
     }
      .main-tab-button { font-size: 1.1rem; padding: 0.6rem 1rem; gap: 0.5rem; }
      .main-tab-button i { font-size: 1.5rem; }
      .content-placeholder h1 { font-size: 1.4rem; } /* Main Tab Title */
      .workout-table td { padding-left: 40%;}
      .workout-table td::before { width: 35%; }
      .navbar-right img.profile-pic {
         width: 35px;
         height: 35px;
     }
     .navbar-right li {
         margin-bottom: 12px;
     }
      /* Adjust new section fonts for smaller screens */
    .daily-log-section h3, .coach-feedback-section h3 { font-size: 1.5rem; } /* Section Titles */
    .daily-log-section h4 { font-size: 1.4rem; } /* Sub-section Title */
    .exercise-log-form-group label { font-size: 1.3rem; }
    .log-input-field { font-size: 1.25rem; padding: 8px 10px; }
    .log-input-field::placeholder { font-size: 1.15rem; }

    .general-summary-area label, .coach-comment-input-area label, .action-button { font-size: 1.3rem; }
    .general-summary-area textarea, .coach-comment-input-area textarea, .coach-comment-item p { font-size: 1.2rem; }
    .coach-comment-item .comment-meta { font-size: 1.0rem; }
 }