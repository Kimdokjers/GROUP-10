<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <!-- Link to the main CSS file -->
    <!-- <link rel="stylesheet" href="/User/usercss/home.css"> --> <!-- Removed external link as styles are embedded -->
    <title>Home Page - OptiLife</title>

    <!-- Embedded CSS specific to this page, including footer styles -->
    <style>
        /* Paste the CSS styles from the second block (home.css content) here */
        * {
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
            text-decoration: none;
            list-style: none;
            border: none;
            outline: none;
            scroll-behavior: smooth;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --bg-color: #000;
            --snd-bf-color: #111;
            --text-color: #fff;
            --main-color: #FFD700; /* Gold */
            --color-black: #0a0a0a;
            --color-dark-gray: #1a1a1a;
            --color-gold: #daa520; /* Darker Gold */
            --color-gold-light: #f0c44c;
            --color-text: #ffffff;
            --color-text-muted: #aaaaaa;
            --border-color-light: #333; /* Added for footer */
            --header-height-desktop: 100px; /* Standardized */
            --header-height-mobile: 80px;  /* Standardized */
            --font-primary: 'Poppins', sans-serif;
        }

        html {
            font-size: 62.5%;
            overflow-x: hidden;
        }

        body {
            background: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-primary);
            line-height: 1.6;
            display: flex; /* Use flexbox for footer */
            flex-direction: column; /* Stack body elements vertically */
            min-height: 100vh; /* Ensure body takes at least full viewport height */
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        section {
            padding: 5rem 8% 2rem;
            /* Removed min-height: 100vh from general sections */
        }

        header {
            position: fixed;
            width: 100%;
            height: var(--header-height-desktop); /* Use variable */
            top: 0;
            left: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 9%;
            background: rgba(0, 0, 0, 0.7); /* Adjusted transparency */
            backdrop-filter: blur(10px);
            transition: background 0.5s ease, backdrop-filter 0.5s ease, height 0.3s ease; /* Added height transition */
            box-sizing: border-box;
            border-bottom: 1px solid var(--border-color-light); /* Added subtle border */
        }

        .logo {
            cursor: pointer;
            transition: 0.3s ease-in-out;
            flex-shrink: 0;
            display: flex;
            align-items: center;
        }

        .logo img {
            max-width: 180px; /* Adjusted size */
            height: auto;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            list-style: none;
            padding: 0;
            margin: 0;
            flex-grow: 1;
            margin-left: 4rem;
        }

        .navbar-left,
        .navbar-right {
            display: flex;
            align-items: center;
            padding: 0;
            margin: 0;
        }

        .navbar li {
            margin: 0;
            padding: 0;
            display: flex;
            align-items: center;
        }

        .navbar a {
            font-size: 1.8rem;
            font-weight: 500;
            color: var(--text-color);
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            text-decoration: none;
            white-space: nowrap;
            padding: 0.5rem 0;
        }

        .navbar-left li a {
            margin-left: 4rem;
        }
        .navbar-left li:first-child a {
            margin-left: 0;
        }

        .navbar-right li:has(.profile-pic) {
            margin-right: 1.5rem;
        }

        .navbar-right li a[href="login_signup.html"] {
            margin-left: 0;
        }

        .navbar a:hover,
        .navbar a.active {
            color: var(--main-color);
            border-bottom-color: var(--main-color);
        }

        .navbar .profile-pic {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            display: block;
            /* Removed border: 2px solid var(--main-color); */
        }

        #menu-icon {
            font-size: 4.5rem;
            color: var(--main-color);
            cursor: pointer;
            display: none;
            margin-left: 2rem;
        }

        main {
            flex-grow: 1; /* Allow main to push footer down */
        }

        /* Home Section Specific Styles */
        .home {
            padding-top: calc(var(--header-height-desktop) + 3rem); /* Adjusted top padding */
            padding-bottom: 8rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 3rem;
            min-height: calc(100vh - var(--header-height-desktop)); /* Make sections take viewport height */
            /* Removed min-height: auto */
        }
        .home-content {
            flex: 1 1 50%;
            max-width: 50%;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 2.5rem;
        }
        .home-img {
            flex: 1 1 45%;
            max-width: 45%;
            text-align: center;
        }
        .home-img img {
            width: 100%;
            max-width: 700px;
            height: auto;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            display: block;
            margin: 0 auto;
        }
        .home h1 {
            font-size: 3rem;
            line-height: 1.2;
        }
        .home h1 span {
            color: var(--main-color);
        }
        .home p {
            font-size: 1.8rem;
            color: var(--color-text-muted);
        }
        /* Ensure subsequent home sections also have padding */
        #home-ironclad {
            padding-top: 5rem; /* Add padding between sections */
            min-height: auto; /* Allow this section to be shorter if content is less */
        }


        /* Button Styles */
        .btn, .btn-primary /* Combined for consistency */ {
            display: inline-block;
            padding: 1.2rem 3rem;
            border-radius: 0.8rem;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease, box-shadow 0.5s ease;
            border: 2px solid var(--main-color);
            font-size: 1.7rem;
            color: var(--color-black); /* Text color */
            background: var(--main-color); /* Background */
            letter-spacing: 0.1rem;
            box-shadow: none;
        }
        .btn:hover, .btn-primary:hover {
            background-color: transparent;
            color: var(--main-color);
            box-shadow: 0 0 1.6rem var(--main-color);
            transform: translateY(-2px);
        }


        /* Gym Search Section Styles */
        .gym-search-section {
            padding-top: calc(var(--header-height-desktop) + 2rem); /* Adjust for header */
            padding-bottom: 2rem;
            min-height: auto; /* No need for full height */
        }
        .gym-search-container {
            max-width: 700px;
            margin: 0 auto;
        }
        #gym-search-form {
            display: flex;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            padding: 0.5rem 0.5rem 0.5rem 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        #gym-search-input {
            flex-grow: 1;
            background: none;
            border: none;
            outline: none;
            color: var(--text-color);
            font-size: 1.6rem;
            padding: 0.8rem 0.5rem;
            font-family: inherit;
        }
        #gym-search-input::placeholder {
            color: var(--color-text-muted);
            opacity: 0.7;
        }
        #gym-search-input[type="search"]::-webkit-search-cancel-button,
        #gym-search-input[type="search"]::-webkit-search-decoration {
            -webkit-appearance: none;
            appearance: none;
        }
        #gym-search-button {
            background: var(--main-color);
            border: none;
            border-radius: 25px;
            color: var(--bg-color);
            cursor: pointer;
            padding: 1rem 2.5rem;
            font-size: 1.5rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            transition: background-color 0.3s ease;
            flex-shrink: 0;
            margin-left: 0.5rem;
        }
        #gym-search-button:hover {
            background-color: var(--color-gold-light);
        }
        #gym-search-button i {
            font-size: 1.8rem;
            line-height: 1;
        }

        /* --- Footer Styles (from membership example) --- */
        .subscribe-section {
            background-color: var(--snd-bf-color); /* Use --snd-bf-color */
            padding: 4rem 8%; /* Adjusted padding */
            border-top: 1px solid var(--border-color-light);
            margin-top: auto; /* Push footer to bottom */
        }
        .subscribe-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem; /* Container padding */
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 3rem;
            align-items: start;
        }
        .subscribe-text h2 {
            font-size: 2.4rem;
            color: var(--main-color);
            margin-bottom: 1rem;
            text-align: left; /* Align left */
        }
        .subscribe-text p {
            font-size: 1.5rem;
            color: var(--color-text-muted);
            margin-bottom: 2rem;
            line-height: 1.7;
        }
        .subscribe-form {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .subscribe-form input[type="email"] {
            flex-grow: 1;
            padding: 1.2rem 1.5rem;
            font-size: 1.5rem;
            border-radius: 6px;
            border: 1px solid var(--border-color-light);
            background-color: var(--color-dark-gray);
            color: var(--text-color);
            outline: none; /* Remove default outline */
        }
        .subscribe-form input[type="email"]::placeholder {
            color: var(--color-text-muted);
        }
        .subscribe-form input[type="email"]:focus { /* Add focus style */
             border-color: var(--main-color);
             box-shadow: 0 0 0 2px rgba(255, 215, 0, 0.2);
         }
        .subscribe-form button { /* Use existing .btn-primary styles */
            padding: 1.2rem 2.5rem; /* Adjusted padding */
            font-size: 1.5rem;
            min-width: auto;
            border-radius: 6px; /* Match input radius */
        }
        .social-icons {
            display: flex;
            gap: 1.5rem;
        }
        .social-icons a {
            color: var(--color-text-muted);
            font-size: 2.2rem;
            transition: color 0.3s ease, transform 0.3s ease;
        }
        .social-icons a:hover {
            color: var(--main-color);
            transform: translateY(-3px);
        }
        .footer-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 2rem;
        }
        .footer-links h4 {
            font-size: 1.6rem;
            color: var(--main-color);
            margin-bottom: 1rem;
            font-weight: 600;
        }
        .footer-links ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .footer-links li {
            margin-bottom: 0.8rem;
        }
        .footer-links a {
            font-size: 1.4rem;
            color: var(--color-text-muted);
            transition: color 0.3s ease;
        }
        .footer-links a:hover {
            color: var(--text-color);
            text-decoration: underline;
        }

        footer { /* Copyright footer */
            background-color: var(--bg-color); /* Match body */
            color: var(--color-text-muted);
            text-align: center;
            padding: 2rem 0;
            font-size: 1.3rem;
            border-top: 1px solid var(--border-color-light);
            margin-top: 0; /* Reset margin */
        }
        footer .container {
            max-width: 1200px; /* Consistent width */
            margin: 0 auto;
            padding: 0 2rem; /* Consistent padding */
        }


        /* --- Media Queries --- */
        @media (max-width: 991px) {
            html { font-size: 55%; }
            header { height: var(--header-height-mobile); padding: 1rem 5%; }
            section { padding: 4rem 5% 2rem; }

            #menu-icon { display: block; }
            .logo img { max-width: 140px; }

            .navbar {
                position: absolute;
                top: 100%;
                right: -100%;
                width: 250px;
                background: var(--color-black);
                flex-direction: column;
                align-items: center;
                padding: 2rem;
                transition: right .50s ease;
                box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
                border-radius: 0 0 10px 10px; /* Rounded bottom */
                justify-content: flex-start;
                flex-grow: 0;
                margin-left: 0;
            }
            .navbar.active {
                right: 5%;
                display: flex;
            }

            .navbar-left,
            .navbar-right {
                flex-direction: column;
                width: 100%;
                align-items: center;
            }
            .navbar-right { margin-top: 1.5rem; }

            .navbar li {
                width: 100%;
                text-align: center;
                margin-bottom: 1.5rem;
            }
            .navbar-right li:has(.profile-pic) { order: 0; margin-bottom: 1.5rem; margin-right: 0;}
            .navbar-right li:has(a[href="login_signup.html"]) { order: 1; margin-bottom: 0;}

            .navbar a {
                display: block;
                margin: 0 !important;
                padding: 1rem 0;
                font-size: 2rem;
                text-align: center;
                border-bottom: none; /* Remove border in mobile menu */
            }
             .navbar a:hover,
             .navbar a.active {
                color: var(--main-color);
                border-bottom: none; /* Ensure no border on hover/active in mobile */
             }

            .navbar .profile-pic {
                margin: 0 auto 1rem auto; /* Center pic */
            }

            .home {
                padding-top: calc(var(--header-height-mobile) + 4rem);
                flex-direction: column-reverse; /* Stack image above text */
                text-align: center;
                gap: 2rem;
                min-height: auto; /* Adjust height for content */
            }
            .home-content { max-width: 100%; align-items: center; }
            .home-img { max-width: 90%; }
            .home h1 { font-size: 2.8rem; }
            .home p { font-size: 1.6rem; }
            #home-ironclad { padding-top: 4rem; } /* Space between home sections */

            .gym-search-section { padding-top: calc(var(--header-height-mobile) + 3rem); padding-bottom: 2.5rem; }
            #gym-search-form { padding: 0.4rem 0.4rem 0.4rem 1.5rem; }
            #gym-search-input { font-size: 1.5rem; }
            #gym-search-button { padding: 0.9rem 2rem; font-size: 1.4rem; }

             /* Footer Responsive */
            .subscribe-content { grid-template-columns: 1fr; gap: 2rem; }
            .subscribe-text{ text-align: center; } /* Center text */
            .subscribe-form { justify-content: center; }
            .social-icons { justify-content: center; } /* Center icons */
            .footer-links { grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); text-align: center;}
        }

        @media (max-width: 767px) {
            html { font-size: 50%; }
            header { height: calc(var(--header-height-mobile) - 10px); padding: 1rem 4%; }
            section { padding: 3rem 4% 1.5rem; }
            .home { padding-top: calc(var(--header-height-mobile) - 10px + 3rem); }
            .home h1 { font-size: 2.4rem; }
            .home p { font-size: 1.5rem; }
            .gym-search-section { padding-top: calc(var(--header-height-mobile) - 10px + 2.5rem); }
            #gym-search-form { padding: 0.3rem 0.3rem 0.3rem 1.2rem; }
            #gym-search-button { padding: 0.8rem 1.8rem; }

             /* Footer Responsive */
            .subscribe-form { flex-direction: column; align-items: stretch; gap: 1rem; }
            .subscribe-form input[type="email"] { border-radius: 6px; border-right: 1px solid var(--border-color-light); text-align: center; }
            .subscribe-form button { border-radius: 6px; width: 100%; }
            .footer-links { text-align: center;}
        }

        @media (max-width: 480px) {
            header { height: calc(var(--header-height-mobile) - 20px); padding: 0.8rem 3%; }
            section { padding: 2.5rem 3% 1rem; }
            .logo img { max-width: 130px; }
            .home { padding-top: calc(var(--header-height-mobile) - 20px + 3rem); }
            .home h1 { font-size: 2.2rem; }
            .home p { font-size: 1.4rem; }
            .btn, .btn-primary { font-size: 1.5rem; padding: 1rem 2.5rem; }

            .gym-search-section { padding-top: calc(var(--header-height-mobile) - 20px + 2rem); padding-bottom: 2rem; }
            #gym-search-form { padding: 0.3rem 0.3rem 0.3rem 1rem; border-radius: 20px; }
            #gym-search-input { font-size: 1.4rem; }
            #gym-search-button { font-size: 1.3rem; padding: 0.8rem 1.5rem; border-radius: 20px; }

            /* Footer Responsive */
            .subscribe-text p { font-size: 1.4rem; }
            .footer-links { grid-template-columns: repeat(2, 1fr); } /* 2 columns */
            .footer-links h4 { font-size: 1.6rem; }
            .footer-links ul li a { font-size: 1.3rem; }
            footer p { font-size: 1.2rem; }
        }

    </style>

</head>
<body>
    <header>
        <!-- Link home to #home section -->
        <a href="#home" class="logo"><img src="../images/logo.png" alt="OptiLife Logo"></a>

        <div class='bx bx-menu' id="menu-icon"></div>

        <ul class="navbar">
             <div class="navbar-left">
                 <!-- Add class="active" to the Home link -->
                 <li><a href="#home" class="active">Home</a></li>
                 <li><a href="setGoals.html">Set Goals</a></li>
                 <li><a href="progress.html">Track Progess</a></li>
                 <li><a href="membership.html">Membership</a></li>
             </div>
             <div class="navbar-right">
                 <li>
                     <img src="../images/hprofile.jpg" alt="User Profile" class="profile-pic">
                 </li>
                 <li>
                     <a href="login_signup.html" id="logout-link">Logout</a> <!-- Added ID for JS -->
                 </li>
             </div>
        </ul>
    </header>

    <main> <!-- Wrap main content -->
        <section class="gym-search-section">
            <div class="gym-search-container">
                 <form id="gym-search-form" onsubmit="return false;">
                     <input type="search" id="gym-search-input" placeholder="Find Your Gym (e.g., Apex, Ironclad)...">
                     <button type="button" id="gym-search-button">
                         <i class='bx bx-search'></i> Search
                     </button>
                 </form>
            </div>
        </section>

        <section class="home" id="home">
            <div class="home-content">
                <h1><span>Apex Atlethics</span></h1>
                <p>This is more than a gym it’s your launchpad to a stronger, fitter, and more confident you. From cutting-edge equipment to dynamic group classes and one-on-one coaching, we’re here to help you crush your goals and build a lifestyle you’re proud of.</p>
                <a href="membership.html" class="btn">Apply Now</a>
            </div>
            <div class="home-img">
                <img src="../images/gymcorp3.jpg" alt="Apex Athletics Gym">
            </div>
        </section>
        <section class="home" id="home-ironclad">
            <div class="home-content">
                <h1><span>Ironclad Fitness</span></h1>
                <p> Step into a space where your goals become reality. Whether you're aiming to build muscle, burn fat, or simply lead a healthier lifestyle, Elevate Fitness is your ultimate destination. With state-of-the-art equipment, expert trainers, and a motivating community, you'll not only transform your body but your mindset too.</p>
                <a href="membership.html" class="btn">Apply Now</a>
            </div>
            <div class="home-img">
                <img src="../images/gymcorp2.webp" alt="Ironclad Fitness Gym">
            </div>
        </section>
    </main> <!-- End main content -->

    <!-- Footer Section (Copied from membership.html structure) -->
     <section id="subscribe" class="subscribe-section">
        <div class="container subscribe-content">
             <div class="subscribe-text">
                <h2>Subscribe</h2>
                <p>Join our fitness family and get tips, exclusive updates, and special offers. Start your journey today!</p>
                <form class="subscribe-form">
                    <input type="email" placeholder="Email" required>
                    <!-- Apply consistent button class -->
                    <button type="submit" class="btn-primary">Send</button>
                </form>
                <div class="social-icons">
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
                    <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="footer-links">
                 <!-- Footer link columns... -->
                 <div><h4>Company</h4><ul><li><a href="#">Press</a></li><li><a href="#">Blog</a></li><li><a href="#">About</a></li><li><a href="#">Careers</a></li></ul></div> <div><h4>Services</h4><ul><li><a href="#">Training</a></li><li><a href="#">Nutrition</a></li><li><a href="#">Lifestyles</a></li></ul></div> <div><h4>Legal</h4><ul><li><a href="#">Policy</a></li><li><a href="#">Privacy & Cookies</a></li><li><a href="#">Terms & Conditions</a></li></ul></div> <div><h4>Community</h4><ul><li><a href="#">Contact</a></li><li><a href="#">Find a club</a></li><li><a href="#">Membership</a></li></ul></div> <div><h4>Gym</h4><ul><li><a href="#">Book a Gym</a></li><li><a href="#">Find a Gym</a></li></ul></div>
            </div>
        </div>
    </section>
    <footer>
        <div class="container">
            <p>© 2024 OPTILIFE. All Rights Reserved.</p> <!-- Updated Year -->
        </div>
    </footer>
    <!-- End Footer -->


    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script> <!-- Use CDN for jQuery -->

    <script>
        $(document).ready(function() { // Use jQuery ready function
            var menuIcon = $('#menu-icon'); // Use jQuery selector
            var navbar = $('.navbar'); // Use jQuery selector

            if (menuIcon.length && navbar.length) { // Check if elements exist
                menuIcon.on('click', () => { // Use jQuery event handler
                    menuIcon.toggleClass('bx-x');
                    navbar.toggleClass('active');
                });

                // Close menu on scroll
                $(window).on('scroll', () => { // Use jQuery event handler
                     if (navbar.hasClass('active')) { // Check if menu is active
                        menuIcon.removeClass('bx-x');
                        navbar.removeClass('active');
                    }
                });

                // Close menu when a link (except logout) is clicked
                 navbar.find('a').not('#logout-link').each(function() { // Iterate non-logout links
                    $(this).on('click', () => {
                         if (navbar.hasClass('active')) {
                            menuIcon.removeClass('bx-x');
                            navbar.removeClass('active');
                         }
                     });
                 });

                 // Close menu also if clicking the profile pic LI
                 let profileLi = navbar.find('li:has(.profile-pic)');
                 if(profileLi.length) {
                     profileLi.on('click', () => {
                          if(navbar.hasClass('active')) { // Only close if active
                             menuIcon.removeClass('bx-x');
                             navbar.removeClass('active');
                         }
                     });
                 }
            }

             // Logout Confirmation using jQuery
            $('#logout-link').on('click', function(event) { // Target the logout link by ID
                event.preventDefault(); // Prevent immediate navigation
                var logoutUrl = $(this).attr('href');

                if (confirm('Are you sure you want to log out?')) {
                     // Close mobile menu if active before redirecting
                     if (navbar.hasClass('active')) {
                         menuIcon.removeClass('bx-x');
                         navbar.removeClass('active');
                     }
                    window.location.href = logoutUrl; // Proceed to logout
                }
                // If 'Cancel' is clicked, do nothing (stay on page)
            });

             // Smooth Scroll for internal links (like #home)
             $('a[href*="#"]').not('[href="#"]').not('[href="#0"]').not('#logout-link').on('click', function(event) {
                if (
                    location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')
                    &&
                    location.hostname == this.hostname
                ) {
                    var target = $(this.hash);
                    target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                    if (target.length) {
                        event.preventDefault();
                        // Adjust scroll position to account for fixed header height
                        var headerHeight = $('header').outerHeight() || ( $(window).width() <= 991 ? parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-height-mobile')) : parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-height-desktop')) );
                        var scrollToPosition = target.offset().top - headerHeight - 10; // Extra 10px padding

                        $('html, body').animate({
                            scrollTop: scrollToPosition
                        }, 1000); // Duration of the scroll animation

                        // Update active class on navbar links
                        $('.navbar a').removeClass('active');
                        $(this).addClass('active');

                        // Close mobile menu if open
                         if (navbar.hasClass('active')) {
                            menuIcon.removeClass('bx-x');
                            navbar.removeClass('active');
                         }

                        return false;
                    }
                }
            });

             // Update active link on scroll (optional but good UX)
             $(window).on('scroll', function() {
                 var scrollDistance = $(window).scrollTop();
                 // Consider header height when determining which section is active
                 var headerHeight = $('header').outerHeight() || ( $(window).width() <= 991 ? parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-height-mobile')) : parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-height-desktop')) );

                 $('section[id]').each(function() {
                     // Check if the top of the section is within a certain range from the top of the viewport (adjusted for header)
                     var sectionTop = $(this).position().top - headerHeight - 50; // Adjust offset as needed
                     var sectionBottom = sectionTop + $(this).outerHeight();

                     if (scrollDistance >= sectionTop && scrollDistance < sectionBottom ) {
                         $('.navbar a.active').removeClass('active');
                         $('.navbar a[href="#' + $(this).attr('id') + '"]').addClass('active');
                     }
                 });

                 // If scrolled close to the top, make 'Home' active explicitly
                 if (scrollDistance < (($('#home').position().top - headerHeight - 50) + 100)) { // Adjust threshold if needed
                      $('.navbar a.active').removeClass('active');
                      $('.navbar a[href="#home"]').addClass('active');
                 }
             });


        });
    </script>

</body>
</html>