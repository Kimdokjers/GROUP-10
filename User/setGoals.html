<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set Goals - OptiLife</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="usercss/home.css">

    <style>
        :root {
            /* Base Theme Colors (Consistent with Progress.html) */
            --bg-color: #000;
            --snd-bf-color: #111;
            --text-color: #ffffff;
            --main-color: #FFD700;
            --color-black: #0a0a0a;
            --color-dark-gray: #1a1a1a;
            --color-gold-light: #f0c44c;
            --color-text-muted: #aaaaaa;
            --border-color-light: #333;
            --header-height-desktop: 100px;
            --header-height-mobile: 80px;
            --font-primary: 'Poppins', sans-serif;

            /* Theme Variables (Consistent with Progress.html) */
            --card-bg: var(--color-dark-gray);
            --card-text-color: var(--text-color);
            --card-muted-text-color: var(--color-text-muted);
            --card-border-color: var(--border-color-light);
            --card-accent-color: var(--main-color);

            --grid-gap: 1.5rem;
            --content-padding: 1.5rem;

            --button-primary-bg: var(--main-color);
            --button-primary-text: var(--color-black);
            --button-primary-hover-bg: var(--color-gold-light);
            --button-secondary-bg: #555;
            --button-secondary-text: var(--text-color);
            --button-secondary-hover-bg: #666;

            --modal-overlay-bg: rgba(0, 0, 0, 0.7);
            --modal-bg: var(--color-dark-gray);
            --modal-text-color: var(--text-color);

            --input-bg: #252525;
            --input-border-color: var(--border-color-light);
            --input-text-color: var(--text-color);
            --input-focus-border-color: var(--main-color);
            --input-focus-shadow: rgba(255, 215, 0, 0.3);

            --tab-inactive-bg: #333;
            --tab-inactive-text: var(--card-muted-text-color);
            --tab-hover-bg: #444;
            --tab-hover-text: var(--card-text-color);
            --stat-card-sub-decrease: #f44336; /* For remove food button if needed */
        }

        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
          text-decoration: none;
          list-style: none;
          border: none;
          outline: none;
        }

        html {
            font-size: 62.5%; /* 1rem = 10px */
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-primary);
            font-size: 1.6rem; /* Base font size: 16px */
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        main.content-grid {
            padding-top: calc(var(--header-height-desktop, 100px) + 2rem);
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: var(--grid-gap);
            padding-left: var(--content-padding);
            padding-right: var(--content-padding);
            padding-bottom: var(--content-padding);
            color: var(--card-text-color);
        }

        .card {
            background-color: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--card-border-color);
            color: var(--card-text-color);
        }

        .calendar-widget {
             border: 2px solid var(--card-accent-color);
        }
        .calendar-widget h2 { /* Section Title */
             color: var(--card-accent-color) !important;
             font-size: 1.7rem; /* H2 Level */
             margin-bottom: 1rem;
        }
        .calendar-widget .input-block label {
            color: var(--card-accent-color) !important;
            font-size: 1.3rem; /* Label Level */
            display: block;
            margin-bottom: 0.5rem;
        }

        .calendar-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 1rem; font-weight: 500;
            color: var(--card-text-color);
            font-size: 1.4rem; /* Slightly smaller than h4 */
        }
        .cal-nav {
            border: 1px solid var(--card-border-color);
            color: var(--card-muted-text-color);
            padding: 0.3rem 0.8rem; border-radius: 4px; cursor: pointer; background: none;
            font-size: 1.4rem;
        }
        .cal-nav:hover { color: var(--card-accent-color); border-color: var(--card-accent-color); }
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; text-align: center; margin-bottom: 1.5rem; }
        .day-name {
            font-weight: 600; font-size: 1.1rem; /* Small utility text */
            color: var(--card-muted-text-color);
            text-transform: uppercase;
        }
        .date-cell { display: flex; justify-content: center; align-items: center; aspect-ratio: 1 / 1; }
        .date-cell button {
            width: 100%; height: 100%; border-radius: 50%; border: 2px solid transparent;
            background-color: transparent;
            color: var(--card-text-color);
            cursor: pointer;
            font-size: 1.3rem; /* Text in buttons */
            transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
            display: flex; align-items: center; justify-content: center; padding: 0;
        }
        .date-cell button:hover:not(.selected):not(:disabled) {
            background-color: #333;
            border-color: var(--card-border-color);
        }
        .date-cell button.selected { background-color: var(--main-color); color: var(--color-black); font-weight: bold; border-color: var(--color-gold-light); } /* Updated from --color-gold */
        .date-cell.empty { visibility: hidden; }
        .date-cell button:disabled {
            color: #666; cursor: default; background-color: transparent;
        }

        .calendar-widget .input-block { margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid var(--card-border-color); }
        .calendar-widget .input-block:last-child { border-bottom: none; padding-bottom: 0; margin-bottom: 0; }

        /* Calendar input & General inputs in SetGoals sidebar */
        .calendar-widget .info-input,
        .calendar-widget .input-group input[type="text"], /* For overallGoals if it becomes an input-group */
        .calendar-widget .input-group input[type="number"],
        .calendar-widget .input-group select { /* Target select specifically in calendar widget */
            background-color: var(--input-bg);
            border: 1px solid var(--input-border-color);
            color: var(--input-text-color);
            font-size: 1.25rem; /* Sidebar/smaller input text */
            padding: 0.8rem 1rem; width: 100%; border-radius: 4px;
        }
        .calendar-widget .info-input:focus,
        .calendar-widget .input-group input[type="text"]:focus,
        .calendar-widget .input-group input[type="number"]:focus,
        .calendar-widget .input-group select:focus {
            outline: none; border-color: var(--input-focus-border-color);
            box-shadow: 0 0 0 2px var(--input-focus-shadow);
        }
        /* Select arrow for dark bg */
        .calendar-widget .info-input[type="select"], .calendar-widget select { /* Explicitly target select */
             background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23aaaaaa' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
             background-repeat: no-repeat;
             background-position: right 0.75rem center;
             background-size: 16px 12px;
             appearance: none; -webkit-appearance: none; -moz-appearance: none;
        }


        .main-tab-content {
            border: 2px solid var(--card-accent-color);
            border-radius: 8px;
            background-color: var(--card-bg);
            color: var(--card-text-color);
            min-width: 0;
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .content-placeholder { padding: 1.5rem; background-color: transparent; border-radius: 0; border: none; min-height: 300px; box-shadow: none; }
        .content-placeholder > h1 { /* Main Tab Titles */
            font-size: 1.8rem; margin-bottom: 1.5rem; font-weight: 600;
            color: var(--card-text-color);
            text-align: left; padding-bottom: 0.8rem;
            border-bottom: 2px solid var(--main-color);
            display: inline-block;
        }
        .content-placeholder > h1::before { content: " "; } /* Remove prefix if any */


        .main-content-tabs {
            display: flex; justify-content: center; flex-wrap: wrap;
            margin-bottom: 2rem; padding: 1rem 1.5rem;
            border-bottom: 2px solid var(--card-border-color); gap: 1rem;
        }
        button.main-tab-button {
            display: inline-flex; align-items: center; gap: 0.7rem;
            padding: 0.8rem 1.5rem; font-size: 1.5rem; font-weight: 500;
            color: var(--tab-inactive-text); background-color: var(--tab-inactive-bg);
            border: 1px solid #444; border-radius: 6px;
            cursor: pointer; transition: all 0.3s ease; font-family: inherit;
        }
        button.main-tab-button i { font-size: 1.8rem; line-height: 1; }
        button.main-tab-button:hover {
            background-color: var(--tab-hover-bg); border-color: #555; color: var(--tab-hover-text);
        }
        button.main-tab-button.active {
            background-color: var(--main-color); color: var(--color-black);
            font-weight: 600; border-color: var(--color-gold-light); /* Updated from --color-gold */
            box-shadow: 0 2px 5px rgba(218, 165, 32, 0.2);
        }

        /* Fitness Goals Tab (#tabs-1 SetGoals) */
        .activity-planner.card { /* This is a .card, so inherits base card styles */
            background-color: var(--snd-bf-color); /* Slightly different dark bg */
            margin-top: 1rem; /* Already a card, so padding is handled */
        }
        .activity-planner h2 { /* H2 Level */
            color: var(--card-accent-color); margin-bottom: 1.5rem; font-size: 1.7rem;
        }
        .activity-planner h3 { /* H3 Level */
            color: var(--card-accent-color); margin-bottom: 1rem; font-size: 1.6rem;
            margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--card-border-color);
        }
        .activity-planner .activity-form { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1.5rem; align-items: flex-end; margin-bottom: 2rem; }
        .input-group label { /* Main form labels in activity planner */
            display: block; margin-bottom: 0.5rem;
            color: var(--card-muted-text-color);
            font-weight: 500; font-size: 1.4rem;
        }
        /* Inputs in activity planner */
        .input-group input[type="text"],
        .input-group input[type="number"],
        .input-group input[type="time"], /* for activity-duration */
        .input-group select {
            background-color: var(--input-bg);
            border: 1px solid var(--input-border-color);
            color: var(--input-text-color);
            font-size: 1.3rem; /* Main form input text */
            padding: 1rem 1.2rem; width: 100%; border-radius: 4px;
        }
        .input-group input[type="text"]:focus,
        .input-group input[type="number"]:focus,
        .input-group input[type="time"]:focus,
        .input-group select:focus {
            outline: none; border-color: var(--input-focus-border-color);
            box-shadow: 0 0 0 2px var(--input-focus-shadow);
        }
        .input-group select { /* Select arrow for dark bg */
             background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23aaaaaa' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
             background-repeat: no-repeat; background-position: right 0.75rem center; background-size: 16px 12px;
             appearance: none; -webkit-appearance: none; -moz-appearance: none;
        }


        #add-activity-btn { /* This is an action button */
            grid-column: 1 / -1; width: auto; justify-self: start;
            padding: 0.9rem 1.8rem; font-size: 1.4rem; font-weight: 500; /* Consistent with .action-button */
            color: var(--button-primary-text); background-color: var(--button-primary-bg);
            border: 1px solid var(--main-color); border-radius: 6px; cursor: pointer;
            transition: all 0.3s ease; margin-top: 1rem;
        }
        #add-activity-btn:hover {
            background-color: var(--button-primary-hover-bg); border-color: var(--color-gold-light);
            transform: translateY(-1px);
        }

        #weekly-plan-display { margin-top: 2rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
        .day-schedule {
            background-color: var(--input-bg); /* Darker inner card */
            padding: 1.5rem; border-radius: 5px;
            border: 1px solid var(--card-border-color);
        }
        .day-schedule h4 { /* H4 Level */
            color: var(--card-text-color);
            border-bottom: 1px solid var(--main-color);
            padding-bottom: 0.5rem; margin-bottom: 1rem; font-weight: 600; font-size: 1.5rem;
        }
        .day-schedule ul { min-height: 3rem; padding-left: 0; list-style: none; margin: 0; }
        .day-schedule li {
            background-color: var(--card-bg); /* Slightly lighter than day-schedule bg */
            padding: 1rem 1.5rem; margin-bottom: 0.8rem; border-radius: 4px; display: flex; justify-content: space-between; align-items: center;
            border: 1px solid var(--border-color-light);
            font-size: 1.3rem; /* List item text */
            word-break: break-word; position: relative;
            color: var(--card-text-color);
        }
        .day-schedule li .remove-activity-btn {
            background: none; border: none; color: #f44336;
            font-size: 1.6rem; line-height: 1; cursor: pointer; /* Icon size */
            padding: 0.2rem 0.5rem; margin-left: 1rem; transition: color 0.2s ease;
        }
        .day-schedule li .remove-activity-btn:hover { color: #d32f2f; }


        /* Nutrition Goals Tab (#tabs-3 SetGoals) - Styles inherited/consistent with Progress.html */
        /* Inner Tabs (.tabs .tab-button) */
        .tabs { display: flex; justify-content: center; flex-wrap: wrap; margin-bottom: 1.5rem; border-bottom: 1px solid var(--card-border-color); padding-bottom: 0.5rem; gap: 1rem; }
        .tabs .tab-button {
            color: var(--tab-inactive-text); font-size: 1.3rem; padding: 0.8rem 1.2rem; border-radius: 4px;
            transition: color 0.3s ease, background-color 0.3s ease, border-color 0.3s ease; white-space: nowrap;
            border: 2px solid transparent; background-color: transparent; cursor: pointer; font-weight: 500;
        }
        .tabs .tab-button:hover { color: var(--tab-hover-text); background-color: var(--tab-hover-bg); }
        .tabs .tab-button.active {
            background-color: var(--main-color); color: var(--color-black); font-weight: 600;
            border-color: var(--color-gold-light);
        }
        .nutrition-tab-content { display: none; padding-top: 1rem; animation: fadeIn 0.5s ease-in-out; }
        .nutrition-tab-content.active { display: block; }
        .nutrition-tab-content h2 { /* Sub-titles H4 level */
            font-size: 1.5rem; margin-bottom: 1.5rem; font-weight: 600;
            color: var(--card-muted-text-color); text-align: center;
        }
        .nutrition-details-full { max-width: 700px; margin: 0 auto; }

        /* Calories Breakdown */
        .calories-breakdown { display: flex; flex-direction: column; gap: 1rem; margin-bottom: 1.5rem; } /* Increased gap */
        .meal-item { /* Consistent with Progress.html */
            display: flex; align-items: center; gap: 1rem; padding: 1rem 1.2rem;
            background-color: var(--snd-bf-color); border-radius: 4px;
            border: 1px solid var(--card-border-color);
        }
        .meal-info { font-size: 1.2rem; flex-grow: 1; }
        .meal-info div:first-child { font-weight: 500; color: var(--card-text-color); }
        .meal-info div:last-child { color: var(--card-muted-text-color); font-size: 0.9em; }

        /* Add food button in SetGoals (if used, for modal trigger) */
        .add-food-btn { /* Consistent with Progress.html if such button exists visually */
            background-color: #444; color: var(--card-muted-text-color); margin-left: auto; border: 1px solid #555;
            padding: 0.5rem 0.8rem; font-size: 1.2rem; line-height: 1; border-radius: 50%;
            width: 2.8rem; height: 2.8rem; display: inline-flex; align-items: center; justify-content: center;
            flex-shrink: 0; cursor: pointer; transition: background-color 0.2s ease, border-color 0.2s ease;
        }
        .add-food-btn:hover { background-color: #555; color: var(--text-color); border-color: #666; }

        /* Calorie Summary */
        .calorie-summary { /* Consistent with Progress.html */
            display: flex; flex-direction: column; gap: 1rem;
            color: var(--card-muted-text-color); font-size: 1.3rem; margin-top: 1.5rem; padding-top: 1.5rem;
            border-top: 1px solid var(--card-border-color);
        }
        .summary-item { display: flex; justify-content: space-between; align-items: center; }
        .summary-item span:last-child { font-weight: 600; color: var(--card-text-color); }
        .summary-item span.exercise { color: #f44336; }
        .summary-item.goal span:last-child { color: var(--card-accent-color); font-size: 1.1em; font-weight: bold; }
        .summary-divider { border: none; height: 1px; background-color: var(--card-border-color); margin: 0.5rem 0; }
        .editable { /* Style for editable goal values */
            cursor: pointer; border-bottom: 1px dashed var(--card-accent-color); padding-bottom: 1px;
            transition: background-color 0.2s ease; display: inline-block;
            color: var(--card-text-color); /* Ensure editable text is light */
        }
        .editable:hover { background-color: rgba(255, 215, 0, 0.1); }

        /* Nutrient List */
        .nutrient-header { /* Consistent with Progress.html */
            display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 1rem; padding: 0 1rem 1rem 1rem;
            font-size: 1.1rem; font-weight: 600; text-align: right;
            border-bottom: 1px solid var(--card-border-color); margin-bottom: 1rem; text-transform: uppercase;
            color: var(--card-accent-color); /* Header text to gold */
        }
        .nutrient-list { list-style: none; max-height: 400px; overflow-y: auto; padding-right: 0.5rem; margin:0; }
        .nutrient-list li { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 1rem; padding: 1rem; border-bottom: 1px solid #282828; align-items: center; font-size: 1.3rem; }
        .nutrient-list li:last-child { border-bottom: none; }
        .nutrient-list li span:first-child { font-weight: 500; text-align: left; color: var(--card-text-color); }
        .nutrient-list li span:not(:first-child) { text-align: right; color: var(--card-muted-text-color); }

        /* Macros Legend */
        .macros-legend { display: flex; flex-direction: column; gap: 1rem; }
        .legend-item { /* Consistent with Progress.html */
            display: grid; grid-template-columns: auto 1fr auto auto; align-items: center; gap: 1rem; font-size: 1.3rem;
            color: var(--card-text-color); padding: 1rem; background-color: var(--snd-bf-color);
            border-radius: 4px; border: 1px solid var(--card-border-color);
        }
        .color-square { width: 14px; height: 14px; display: inline-block; border-radius: 3px; border: 1px solid rgba(255,255,255,0.1); }
        .legend-item .percentage { font-weight: 500; text-align: right; } /* Current % */
        /* Editable span for goal % inherits .editable style */

        /* Meal Logging Section (copied from Progress, ensure styles are consistent) */
        .meal-logging-section {
            margin-top: 2.5rem; padding: 1.5rem; background-color: var(--snd-bf-color);
            border: 1px solid var(--card-border-color); border-radius: 6px;
        }
        .meal-logging-section h3 { /* Section Title H3 */
            font-size: 1.6rem; color: var(--card-accent-color); margin-bottom: 1.2rem;
            padding-bottom: 0.6rem; border-bottom: 1px solid var(--card-border-color); font-weight: 600;
        }
        .meal-logging-section h4 { /* Sub-section Titles H4 */
            font-size: 1.5rem; color: var(--card-text-color); font-weight: 500;
            margin-bottom: 1rem; margin-top: 1.5rem;
        }
        .meal-logging-section h4 i {
            margin-right: 0.8rem; font-size: 1.6rem; color: var(--card-accent-color);
        }
        .meal-log-group {
            padding: 1.5rem 0; border-bottom: 1px dashed var(--card-border-color);
        }
        .meal-log-group:last-of-type { border-bottom: none; }
        .food-item-entry-form {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem; align-items: end; margin-bottom: 1rem;
        }
        .food-item-entry-form label { /* Smaller context labels */
            display: block; font-size: 1.3rem; font-weight: 500;
            color: var(--card-muted-text-color); margin-bottom: 0.5rem;
        }
        /* .log-input-field used for food items, ensure it's defined (it is in Progress.html CSS snippet) */
        /* If not, copy its definition or use a common class like .form-input-small */
        .food-item-entry-form .log-input-field { /* Text input for food items */
            width: 100%; padding: 0.8rem 1rem; font-size: 1.25rem;
            font-family: var(--font-primary);
            background-color: var(--input-bg); border: 1px solid var(--input-border-color);
            color: var(--input-text-color); border-radius: 4px;
        }
         .food-item-entry-form .log-input-field::placeholder { color: var(--card-muted-text-color); font-size: 1.15rem; }
         .food-item-entry-form .log-input-field:focus {
            outline: none; border-color: var(--input-focus-border-color); box-shadow: 0 0 0 2px var(--input-focus-shadow);
        }

        .add-food-item-btn { /* Action button */
            padding: 0.9rem 1.5rem; font-size: 1.3rem; /* Consistent with other smaller action buttons */
            grid-column: 1 / -1; margin-top: 1rem;
            /* Uses .action-button class from Progress.html for full styling */
        }
        .logged-food-list {
            list-style: none; padding-left: 0; margin-top: 1rem;
        }
        .logged-food-list li {
            font-size: 1.3rem; color: var(--card-muted-text-color);
            padding: 0.8rem 1rem; background-color: var(--input-bg);
            border-radius: 3px; margin-bottom: 0.8rem; border-left: 3px solid var(--main-color);
            display: flex; justify-content: space-between; align-items: center;
        }
        .logged-food-list li .remove-food-item { /* If remove functionality added */
            color: var(--stat-card-sub-decrease); cursor: pointer;
            font-size: 1.6rem; margin-left: 1rem;
        }
        .logged-food-list li .remove-food-item:hover { color: red; }
        #updateNutritionSummaryBtn { margin-top: 1.5rem; } /* This is an .action-button */
        /* Action button styling */
        .action-button { /* Ensure this is defined if used standalone from Progress.html copy */
            padding: 0.9rem 1.8rem; font-size: 1.4rem; font-weight: 500;
            color: var(--button-primary-text); background-color: var(--button-primary-bg);
            border: 1px solid var(--main-color); border-radius: 6px; cursor: pointer;
            transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 0.8rem;
        }
        .action-button:hover {
            background-color: var(--button-primary-hover-bg); border-color: var(--color-gold-light);
            transform: translateY(-1px);
        }
        .action-button i { font-size: 1.6rem; }

        /* Modal Dark Theme Styles - Consistent with Progress.html */
        .modal {
            position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%;
            overflow: auto; background-color: var(--modal-overlay-bg);
            align-items: center; justify-content: center;
            opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0s linear 0.3s;
            display: flex;
        }
        .modal.active { /* Use .active for SetGoals modals */
            opacity: 1; visibility: visible; transition: opacity 0.3s ease;
        }
        .modal-content { /* Universal modal content styling */
            background-color: var(--modal-bg);
            color: var(--modal-text-color);
            margin: auto; padding: 2rem 2.5rem;
            border: 1px solid var(--card-border-color); border-radius: 8px;
            width: 90%; max-width: 500px; /* Increased from 450px for log-meal-modal */
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            position: relative; animation: slideInModal 0.3s ease-out; max-height: 90vh; overflow-y: auto;
            font-size: 1.4rem; /* Base font for modal content */
        }
        @keyframes slideInModal { from { transform: translateY(-30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        .modal-close-btn { /* General modal close button */
            color: var(--card-muted-text-color); position: absolute; top: 1rem; right: 1.5rem;
            font-size: 2.4rem; font-weight: bold; cursor: pointer; line-height: 1;
            margin-bottom: 1.5rem;
        }
        .modal-close-btn:hover { color: var(--card-text-color); }

        /* Log Meal Modal Specifics */
        #log-meal-modal h3 {
            margin-top: 3.5rem; margin-bottom: 1.5rem; text-align: center;
            border-bottom: 1px solid var(--card-border-color); padding-bottom: 1rem;
            font-size: 1.6rem; /* Modal H3 */
            color: var(--card-accent-color) !important;
        }
        #log-meal-modal h3 span { font-weight: normal; font-size: 0.9em; color: var(--card-muted-text-color); } /* Date part */

        #log-meal-modal .edit-input-container { margin-bottom: 1.2rem; }
        #log-meal-modal .edit-input-container label {
            display: block; font-size: 1.3rem; margin-bottom: 0.5rem; /* Modal form label */
            color: var(--card-muted-text-color); font-weight: 500;
        }
        #log-meal-modal .edit-input-container input[type="text"],
        #log-meal-modal .edit-input-container input[type="number"],
        #log-meal-modal .edit-input-container select {
            width: 100%; padding: 0.8rem 1rem; font-size: 1.25rem; /* Modal form input text */
            font-family: var(--font-primary);
            background-color: var(--input-bg); border: 1px solid var(--input-border-color);
            color: var(--input-text-color); border-radius: 4px;
        }
        #log-meal-modal .edit-input-container input::placeholder { color: var(--card-muted-text-color); font-size: 1.15rem; }
        #log-meal-modal .edit-input-container input:focus,
        #log-meal-modal .edit-input-container select:focus {
            outline: none; border-color: var(--input-focus-border-color);
            box-shadow: 0 0 0 2px var(--input-focus-shadow);
        }
        #log-meal-modal .edit-input-container select { /* Select arrow */
             background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23aaaaaa' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
             background-repeat: no-repeat; background-position: right 0.75rem center; background-size: 16px 12px;
             appearance: none; -webkit-appearance: none; -moz-appearance: none;
        }
        .validation-error { color: #f44336; font-size: 1.2rem; margin-top: 0.5rem; text-align: center; }

        #log-meal-modal .modal-actions { text-align: center; margin-top: 2rem; }
        #log-meal-modal .modal-actions button { /* General modal buttons */
            font-weight: 600; font-size: 1.4rem; margin: 0 0.8rem; min-width: 120px; /* Increased min-width */
            padding: 1rem 2rem; border-radius: 6px; cursor: pointer;
            transition: all 0.3s ease;
        }
        #log-meal-modal #log-meal-save-button {
            background-color: var(--button-primary-bg); color: var(--button-primary-text); border: 1px solid var(--main-color);
        }
        #log-meal-modal #log-meal-save-button:hover { background-color: var(--button-primary-hover-bg); border-color: var(--color-gold-light); }
        #log-meal-modal #log-meal-cancel-button {
            background-color: var(--button-secondary-bg); color: var(--button-secondary-text); border: 1px solid #444;
            margin-bottom: 20px; width: auto !important; height: auto !important; font-size: 1.4rem !important;
        }
        #log-meal-modal #log-meal-cancel-button:hover { background-color: var(--button-secondary-hover-bg); }

        #log-meal-modal .logged-items-display { margin-top: 2.5rem; }
        #log-meal-modal .logged-items-display h4 {
            font-size: 1.5rem; /* Modal H4 */
            color: var(--card-accent-color) !important;
            margin-bottom: 1rem; padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--card-border-color);
        }
        #log-meal-modal .logged-items-display ul { list-style: none; padding: 0; max-height: 150px; overflow-y: auto; }
        #log-meal-modal .logged-items-display li {
            font-size: 1.3rem; /* Logged item text in modal */
            padding: 0.8rem 1rem; background-color: var(--input-bg);
            border-radius: 3px; margin-bottom: 0.5rem;
            display: flex; justify-content: space-between; align-items: center;
            color: var(--card-muted-text-color);
        }
        #log-meal-modal .logged-items-display li .item-details { font-size: 0.9em; color: var(--main-color); }
        #log-meal-modal .logged-items-display li .item-name { flex-grow: 1; margin: 0 1rem; color: var(--card-text-color); }
        #log-meal-modal .logged-items-display li .remove-logged-item-btn {
            background: none; border: none; color: #f44336; font-size: 1.6rem; cursor: pointer;
        }
        #log-meal-modal .logged-items-display li .no-items-logged { text-align: center; width: 100%; color: var(--card-muted-text-color); }

        /* Logout & Alert Modal (already covered by generic .modal styles) */
        #logoutConfirmationModal .modal-content, #alertModal .modal-content { max-width: 400px; } /* Slightly smaller for simple messages */
        #logoutConfirmationModal #logoutModalMessage, #alertModal #alertModalMessage { font-size: 1.5rem; margin-top: 1rem; margin-bottom: 2rem; }


        /* Responsive Adjustments */
        @media (max-width: 992px) {
             main.content-grid {
                 grid-template-columns: 1fr;
                 padding-top: calc(var(--header-height-mobile, 80px) + 1rem);
            }
             .calendar-widget { order: -1; margin-bottom: var(--grid-gap); }
        }
         @media (max-width: 767px) {
             main.content-grid {
                 padding-top: calc(var(--header-height-mobile, 80px) + 1rem);
             }
             .main-tab-button { font-size: 1.3rem; padding: 0.7rem 1.2rem; }
             .day-schedule li { background-color: var(--snd-bf-color); }
             .food-item-entry-form { grid-template-columns: 1fr; }
             .food-item-entry-form .log-input-field { margin-bottom: 0.5rem; }
             .food-item-entry-form .add-food-item-btn { grid-column: 1 / -1; width: 100%; margin-top: 0.5rem; }
         }
         @media (max-width: 480px) {
              .activity-planner .activity-form { grid-template-columns: 1fr; }
              #weekly-plan-display { grid-template-columns: 1fr; }
              .main-tab-button { font-size: 1.2rem; padding: 0.6rem 1rem; gap: 0.5rem;}
              .main-tab-button i { font-size: 1.6rem; }
              .content-placeholder { padding: 1rem; }
              .content-placeholder > h1 { font-size: 1.6rem; }
              .modal-content { padding: 1.5rem; font-size: 1.3rem; } /* Smaller modal padding and base font */
              #log-meal-modal h3 { font-size: 1.5rem; }
              #log-meal-modal .edit-input-container label { font-size: 1.2rem; }
              #log-meal-modal .edit-input-container input, #log-meal-modal .edit-input-container select { font-size: 1.2rem; padding: 0.6rem 0.8rem; }
              #log-meal-modal .modal-actions button { font-size: 1.3rem; padding: 0.8rem 1.5rem; }

              .calendar-widget h2 { font-size: 1.6rem; }
              .calendar-widget .input-block label { font-size: 1.2rem; }
              .calendar-widget .info-input { font-size: 1.2rem; }
              .activity-planner h2 { font-size: 1.6rem; }
              .activity-planner h3 { font-size: 1.5rem; }
              .input-group label { font-size: 1.3rem; }
              .input-group input, .input-group select { font-size: 1.25rem; }
              #add-activity-btn { font-size: 1.3rem; }
              .day-schedule h4 { font-size: 1.4rem; }
              .day-schedule li { font-size: 1.2rem; }
              .tabs .tab-button { font-size: 1.2rem; }
              .nutrition-tab-content h2 { font-size: 1.4rem; }
         }
    </style>
</head>
<body>

    <header>
        <a href="home.html" class="logo"><img src="../images/logo.png" alt="OptiLife Logo"></a>
        <div class='bx bx-menu' id="menu-icon"></div>
        <ul class="navbar">
             <div class="navbar-left">
                 <li><a href="home.html">Home</a></li>
                 <li><a href="setGoals.html" class="active">Set Goals</a></li>
                 <li><a href="progress.html">Track Progress</a></li>
                 <li><a href="membership.html">Membership</a></li>
             </div>
             <div class="navbar-right">
                 <li>
                     <img src="../images/user_pic.jpg" alt="User Profile" class="profile-pic">
                 </li>
                 <li>
                     <a href="signin.html" id="logout-link">Logout</a>
                 </li>
             </div>
        </ul>
    </header>

    <main class="content-grid">
        <div class="calendar-widget card">
            <h2>User Information</h2> <!-- Changed heading for context -->
            <div class="calendar-header"> <!-- Calendar part removed as it's not primary for SetGoals info -->
                <span class="current-month-year">User Profile & Goals</span>
            </div>
            <!-- Calendar grid removed -->
            <div class="input-block"> <label for="startDate">Start Date</label> <input type="date" id="startDate" name="startDate" class="info-input" value="2025-01-15"> </div>
            <div class="input-block"> <label for="overallGoals">Overall Goals</label> <input type="text" id="overallGoals" name="overallGoals" class="info-input" placeholder="Enter your goals here..." value="Improved overall fitness, Increased muscle strength"> </div>
            <div class="input-block"> <label for="currentWeight">Current Weight (kg)</label> <input type="number" step="0.1" id="currentWeight" name="currentWeight" class="info-input" placeholder="e.g., 70.5" value="45"> </div>
            <div class="input-block"> <label for="goalWeight">Goal Weight (kg)</label> <input type="number" step="0.1" id="goalWeight" name="goalWeight" class="info-input" placeholder="e.g., 65.0" value="40"> </div>
            <div class="input-block"> <label for="weightLossGoal">Weekly Goal</label> <select id="weightLossGoal" name="weightLossGoal" class="info-input"> <option value="1">Lose 1 kg per week</option> <option value="0.75">Lose 0.75 kg per week</option> <option value="0.5" selected>Lose 0.5 kg per week</option> <option value="0.25">Lose 0.25 kg per week</option> <option value="0">Maintain current weight</option> <option value="-0.25">Gain 0.25 kg per week</option> <option value="-0.5">Gain 0.5 kg per week</option> </select> </div>
            <div class="input-block"> <label for="activity-level">Activity Level</label> <select id="activity-level" name="activity-level" class="info-input"> <option value="Not Very Active">Not Very Active</option> <option value="Lightly Active" selected>Lightly Active</option> <option value="Active">Active</option> <option value="Very Active">Very Active</option> </select> </div>
        </div>

         <div class="main-tab-content card">
            <nav class="main-content-tabs">
                <button class="main-tab-button active" data-target="#tabs-1">
                    <i class='bx bx-dumbbell'></i> Fitness Goals
                </button>
                <button class="main-tab-button" data-target="#tabs-3">
                    <i class='bx bx-restaurant'></i> Nutrition Goals
                </button>
            </nav>

            <div id="tabs-1" class="tab-content active">
                <div class="content-placeholder">
                    <h1>Set Your Fitness Goal</h1>
                    <div class="workout-schedule-container">
                        <section class="activity-planner card"> <!-- activity-planner is already a card, no need to double nest -->
                             <h2>Plan Your Weekly Activities</h2>
                            <form id="activity-form" class="activity-form">
                                <div class="input-group"> <label for="activity-day">Day:</label> <select id="activity-day" name="activity-day"> <option value="Monday">Monday</option> <option value="Tuesday">Tuesday</option> <option value="Wednesday">Wednesday</option> <option value="Thursday">Thursday</option> <option value="Friday">Friday</option> <option value="Saturday">Saturday</option> <option value="Sunday">Sunday</option> </select> </div>
                                <div class="input-group"> <label for="activity-type">Workout Type:</label> <select id="activity-type" name="activity-type"> <option>Upper Body and Lower Body Split</option> <option>Full Body</option> <option>Core</option> <option>Push/Pull/Legs</option> <option>Circuit Training</option> <option>Cardio</option> <option>Weightlifting</option> <option>HIIT</option> <option>CrossFit</option> <option>Yoga</option> <option>Pilates</option> <option>Stretching</option> <option>Rest Day</option> </select> </div>
                                <div class="input-group"> <label for="activity-name">Activity:</label> <input type="text" id="activity-name" name="activityName" placeholder="e.g., Running, Bench Press" required> </div> <!-- removed required for flexibility -->
                                <div class="input-group"> <label for="activity-reps">Reps:</label> <input type="number" id="activity-reps" name="activityReps" placeholder="e.g., 3-5, 8-12" required> </div> <!-- Changed to text -->
                                <div class="input-group"> <label for="activity-sets">Sets:</label> <input type="number" id="activity-sets" name="activitySets" placeholder="e.g., 3" required> </div>
                                <div class="input-group"> <label for="activity-weight">Weight(lb):</label> <input type="number" step="0.5" id="activity-weight" name="activityWeight" placeholder="e.g., 50, Bodyweight" required> </div> <!-- Changed to text -->
                                <div class="input-group"> <label for="activity-duration">Duration:</label> <input type="text" id="activity-duration" name="activityDuration" placeholder="e.g., 30 min, 1 hr" required> </div> <!-- Changed to text from time for flexibility -->
                                <button type="submit" id="add-activity-btn">Add Activity to Plan</button>
                            </form>
                            <h3>Weekly Schedule:</h3>
                            <div id="weekly-plan-display">
                                <div class="day-schedule"><h4>Monday</h4><ul data-day="Monday"></ul></div>
                                <div class="day-schedule"><h4>Tuesday</h4><ul data-day="Tuesday"></ul></div>
                                <div class="day-schedule"><h4>Wednesday</h4><ul data-day="Wednesday"></ul></div>
                                <div class="day-schedule"><h4>Thursday</h4><ul data-day="Thursday"></ul></div>
                                <div class="day-schedule"><h4>Friday</h4><ul data-day="Friday"></ul></div>
                                <div class="day-schedule"><h4>Saturday</h4><ul data-day="Saturday"></ul></div>
                                <div class="day-schedule"><h4>Sunday</h4><ul data-day="Sunday"></ul></div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>

            <div id="tabs-3" class="tab-content">
                 <div class="content-placeholder">
                    <h1>Set Nutrition Goals</h1> <!-- Changed H1 text -->
                    <nav class="tabs">
                        <button class="tab-button active" data-tab="calories">CALORIES</button>
                        <button class="tab-button" data-tab="nutrients">NUTRIENTS</button>
                        <button class="tab-button" data-tab="macros">MACROS</button>
                    </nav>

                    <div id="calories-content" class="nutrition-tab-content active">
                        <h2>Calories Breakdown</h2>
                        <div class="calories-breakdown"> <!-- This section is more for display, less for input on SetGoals -->
                            <div class="meal-item"><span class="color-square calorie-breakfast" style="background-color: #bf9a33;"></span><div class="meal-info"><div>Breakfast</div><div data-value="breakfast-calories">0% (0 cal)</div></div> <button class="add-food-btn" data-meal-type="Breakfast" title="Log Breakfast Item"><i class='bx bx-plus'></i></button> </div>
                            <div class="meal-item"><span class="color-square calorie-lunch" style="background-color: #febd14;"></span><div class="meal-info"><div>Lunch</div><div data-value="lunch-calories">0% (0 cal)</div></div> <button class="add-food-btn" data-meal-type="Lunch" title="Log Lunch Item"><i class='bx bx-plus'></i></button> </div>
                            <div class="meal-item"><span class="color-square calorie-dinner" style="background-color: #fece43;"></span><div class="meal-info"><div>Dinner</div><div data-value="dinner-calories">0% (0 cal)</div></div> <button class="add-food-btn" data-meal-type="Dinner" title="Log Dinner Item"><i class='bx bx-plus'></i></button> </div>
                            <div class="meal-item"><span class="color-square calorie-snacks" style="background-color: #feda75;"></span><div class="meal-info"><div>Snacks</div><div data-value="snack-calories">0% (0 cal)</div></div> <button class="add-food-btn" data-meal-type="Snacks" title="Log Snack Item"><i class='bx bx-plus'></i></button> </div>
                        </div>
                        <div class="calorie-summary">
                            <div class="summary-item"><span>Total Calories Consumed</span><span data-value="total-calories">0</span></div>
                            <div class="summary-item"><span>Exercise Calories Burned</span><span data-value="exercise-calories" class="exercise editable" data-editable="true" data-id="exercise-calories" data-type="number" data-unit="cal" data-label="Exercise Calories" title="Click to edit" data-goal-value="0">0 cal</span></div>
                            <div class="summary-item net-calories-item"><span>Net Calories</span><span data-value="net-calories">0</span></div>
                            <hr class="summary-divider">
                            <div class="summary-item goal"><span>Calorie Goal</span><span data-value="goal-calories" class="editable" data-editable="true" data-id="calorie-goal" data-type="number" data-unit="cal" data-label="Calorie Goal" title="Click to edit" data-goal-value="1520">1520</span></div>
                            <div class="summary-item"><span>Calories Remaining</span><span data-value="calories-remaining">1520</span></div>
                        </div>

                        <!-- This section was for logging on Progress, might be redundant or repurposed for "Quick Add Example Food" on SetGoals -->
                        <!-- For now, keeping structure for consistency if JS expects it, but primary goal setting is via .editable -->
                        <section class="meal-logging-section" style="display:none;"> <!-- Hidden by default on SetGoals, can be shown by JS if specific functionality is added -->
                            <h3>Log Your Meals for <span id="selectedDateForMealLog">Today</span> (Example Logging)</h3>
                            <div class="meal-log-group" id="breakfastLogGroup">
                                <h4><i class='bx bx-sun'></i> Breakfast</h4>
                                <form class="food-item-entry-form">
                                    <div class="food-name-group"><label for="breakfast-food-name">Food</label><input type="text" id="breakfast-food-name" class="log-input-field food-name" placeholder="Food item"></div>
                                    <div><label for="breakfast-food-calories">Cals</label><input type="number" id="breakfast-food-calories" class="log-input-field food-calories" placeholder="Cals"></div>
                                    <div><label for="breakfast-food-protein">P(g)</label><input type="number" id="breakfast-food-protein" class="log-input-field food-protein" placeholder="P (g)"></div>
                                    <div><label for="breakfast-food-carbs">C(g)</label><input type="number" id="breakfast-food-carbs" class="log-input-field food-carbs" placeholder="C (g)"></div>
                                    <div><label for="breakfast-food-fat">F(g)</label><input type="number" id="breakfast-food-fat" class="log-input-field food-fat" placeholder="F (g)"></div>
                                    <button type="button" class="action-button add-food-item-btn" data-meal="breakfast"><i class='bx bx-plus'></i> Add</button>
                                </form>
                                <ul class="logged-food-list breakfast-list"></ul>
                            </div>
                            <!-- Other meal groups (Lunch, Dinner, Snacks) would follow the same pattern if this section is used -->
                            <button type="button" id="updateNutritionSummaryBtn" class="action-button">
                                <i class='bx bx-calculator'></i> Calculate Nutrition
                            </button>
                        </section>
                    </div>

                    <div id="nutrients-content" class="nutrition-tab-content">
                         <h2>Set Nutrient Goals</h2> <!-- Changed heading -->
                        <div class="nutrient-header">
                            <span>Nutrient</span>
                            <span>Total</span> <!-- This column might be less relevant for "Set Goals" page, or show 0 -->
                            <span>Goal</span>
                            <span>Left</span> <!-- Also less relevant here, or show Goal value -->
                        </div>
                           <ul class="nutrient-list">
                               <li data-nutrient="protein">
                                   <span>Protein</span>
                                   <span data-value="protein-total">0 g</span>
                                   <span class="editable" data-editable="true" data-id="protein-goal" data-type="number" data-unit="g" data-label="Protein Goal" title="Click to edit" data-goal-value="76">76 g</span>
                                   <span data-value="protein-left">76 g</span>
                               </li>
                               <li data-nutrient="carbohydrates">
                                   <span>Carbohydrates</span>
                                   <span data-value="carbs-total">0 g</span>
                                   <span class="editable" data-editable="true" data-id="carbs-goal" data-type="number" data-unit="g" data-label="Carbohydrates Goal" title="Click to edit" data-goal-value="190">190 g</span>
                                   <span data-value="carbs-left">190 g</span>
                               </li>
                               <li data-nutrient="fiber">
                                   <span>Fiber</span>
                                   <span data-value="fiber-total">0 g</span>
                                   <span class="editable" data-editable="true" data-id="fiber-goal" data-type="number" data-unit="g" data-label="Fiber Goal" title="Click to edit" data-goal-value="25">25 g</span>
                                   <span data-value="fiber-left">25 g</span>
                               </li>
                               <li data-nutrient="sugar">
                                   <span>Sugar</span>
                                   <span data-value="sugar-total">0 g</span>
                                   <span class="editable" data-editable="true" data-id="sugar-goal" data-type="number" data-unit="g" data-label="Sugar Goal (max)" title="Click to edit" data-goal-value="57">57 g</span>
                                   <span data-value="sugar-left">57 g</span>
                               </li>
                                <li data-nutrient="fat">
                                   <span>Fat</span>
                                   <span data-value="fat-total">0 g</span>
                                   <span class="editable" data-editable="true" data-id="fat-goal" data-type="number" data-unit="g" data-label="Fat Goal" title="Click to edit" data-goal-value="51">51 g</span>
                                   <span data-value="fat-left">51 g</span>
                               </li>
                               <li data-nutrient="saturated_fat">
                                   <span>Saturated Fat</span>
                                   <span data-value="satfat-total">0 g</span>
                                   <span class="editable" data-editable="true" data-id="satfat-goal" data-type="number" data-unit="g" data-label="Saturated Fat Goal (max)" title="Click to edit" data-goal-value="17">17 g</span>
                                   <span data-value="satfat-left">17 g</span>
                               </li>
                                <li data-nutrient="polyunsaturated_fat">
                                   <span>Polyunsaturated Fat</span>
                                   <span data-value="polyfat-total">0 g</span>
                                   <span class="editable" data-editable="true" data-id="polyfat-goal" data-type="number" data-unit="g" data-label="Polyunsaturated Fat Goal" title="Click to edit" data-goal-value="0">0 g</span>
                                   <span data-value="polyfat-left">0 g</span>
                               </li>
                               <li data-nutrient="monounsaturated_fat">
                                   <span>Monounsaturated Fat</span>
                                   <span data-value="monofat-total">0 g</span>
                                   <span class="editable" data-editable="true" data-id="monofat-goal" data-type="number" data-unit="g" data-label="Monounsaturated Fat Goal" title="Click to edit" data-goal-value="0">0 g</span>
                                   <span data-value="monofat-left">0 g</span>
                               </li>
                                <li data-nutrient="trans_fat">
                                   <span>Trans Fat</span>
                                   <span data-value="transfat-total">0 g</span>
                                   <span class="editable" data-editable="true" data-id="transfat-goal" data-type="number" data-unit="g" data-label="Trans Fat Goal (max)" title="Click to edit" data-goal-value="0">0 g</span>
                                   <span data-value="transfat-left">0 g</span>
                               </li>
                                <li data-nutrient="cholesterol">
                                   <span>Cholesterol</span>
                                   <span data-value="cholesterol-total">0 mg</span>
                                   <span class="editable" data-editable="true" data-id="cholesterol-goal" data-type="number" data-unit="mg" data-label="Cholesterol Goal (max)" title="Click to edit" data-goal-value="300">300 mg</span>
                                   <span data-value="cholesterol-left">300 mg</span>
                               </li>
                               <li data-nutrient="sodium">
                                   <span>Sodium</span>
                                   <span data-value="sodium-total">0 mg</span>
                                   <span class="editable" data-editable="true" data-id="sodium-goal" data-type="number" data-unit="mg" data-label="Sodium Goal (max)" title="Click to edit" data-goal-value="2300">2,300 mg</span>
                                   <span data-value="sodium-left">2,300 mg</span>
                               </li>
                                <li data-nutrient="potassium">
                                   <span>Potassium</span>
                                   <span data-value="potassium-total">0 mg</span>
                                   <span class="editable" data-editable="true" data-id="potassium-goal" data-type="number" data-unit="mg" data-label="Potassium Goal" title="Click to edit" data-goal-value="3500">3,500 mg</span>
                                   <span data-value="potassium-left">3,500 mg</span>
                               </li>
                               <li data-nutrient="vitamin_a">
                                   <span>Vitamin A</span>
                                   <span data-value="vita-total">0 %</span>
                                   <span class="editable" data-editable="true" data-id="vita-goal" data-type="number" data-unit="%" data-label="Vitamin A Goal (%DV)" title="Click to edit" data-goal-value="100">100 %</span>
                                   <span data-value="vita-left">100 %</span>
                               </li>
                               <li data-nutrient="vitamin_c">
                                   <span>Vitamin C</span>
                                   <span data-value="vitc-total">0 %</span>
                                   <span class="editable" data-editable="true" data-id="vitc-goal" data-type="number" data-unit="%" data-label="Vitamin C Goal (%DV)" title="Click to edit" data-goal-value="100">100 %</span>
                                   <span data-value="vitc-left">100 %</span>
                               </li>
                                <li data-nutrient="calcium">
                                   <span>Calcium</span>
                                   <span data-value="calcium-total">0 %</span>
                                   <span class="editable" data-editable="true" data-id="calcium-goal" data-type="number" data-unit="%" data-label="Calcium Goal (%DV)" title="Click to edit" data-goal-value="100">100 %</span>
                                   <span data-value="calcium-left">100 %</span>
                               </li>
                                <li data-nutrient="iron">
                                   <span>Iron</span>
                                   <span data-value="iron-total">0 %</span>
                                   <span class="editable" data-editable="true" data-id="iron-goal" data-type="number" data-unit="%" data-label="Iron Goal (%DV)" title="Click to edit" data-goal-value="100">100 %</span>
                                   <span data-value="iron-left">100 %</span>
                               </li>
                           </ul>
                    </div>

                    <div id="macros-content" class="nutrition-tab-content">
                         <h2>Set Macronutrient Ratio Goals</h2> <!-- Changed heading -->
                         <p style="text-align: center; color: var(--card-muted-text-color); font-size: 1.2rem;" ><em>Goals should total 100%</em></p>
                         <div class="nutrition-details-full">
                            <div class="macros-legend">
                                 <div class="legend-item" data-macro="carbs">
                                    <span class="color-square" style="background-color: #febd14;"></span>
                                    <span>Carbohydrates (<span data-value="macro-carbs-g">0g</span>)</span>
                                    <span class="percentage" data-value="macro-carbs-perc">0%</span>
                                    <span class="editable" data-editable="true" data-id="carbs-goal-perc" data-type="number" data-unit="%" data-label="Carbohydrates Goal %" title="Click to edit" data-goal-value="50">50%</span>
                                </div>
                                 <div class="legend-item" data-macro="fat">
                                    <span class="color-square" style="background-color: #fece43;"></span>
                                    <span>Fat (<span data-value="macro-fat-g">0g</span>)</span>
                                    <span class="percentage" data-value="macro-fat-perc">0%</span>
                                    <span class="editable" data-editable="true" data-id="fats-goal-perc" data-type="number" data-unit="%" data-label="Fat Goal %" title="Click to edit" data-goal-value="30">30%</span>
                                </div>
                                 <div class="legend-item" data-macro="protein">
                                    <span class="color-square" style="background-color: #feda75;"></span>
                                    <span>Protein (<span data-value="macro-protein-g">0g</span>)</span>
                                    <span class="percentage" data-value="macro-protein-perc">0%</span>
                                    <span class="editable" data-editable="true" data-id="protein-goal-perc" data-type="number" data-unit="%" data-label="Protein Goal %" title="Click to edit" data-goal-value="20">20%</span>
                                </div>
                            </div>
                            <p id="macro-goal-warning" class="validation-error" style="text-align: center; margin-top: 1.5rem; display: none;"></p>
                         </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

     <div class="modal" id="log-meal-modal" role="dialog" aria-labelledby="log-meal-title" aria-modal="true">
        <div class="modal-content card"> <!-- Added .card for consistency if needed -->
            <button class="modal-close-btn" aria-label="Close modal"></button>
            <h3 id="log-meal-title">Log Food Item for <span id="log-meal-modal-date">Date</span></h3>
            <form id="log-meal-form">
                <input type="hidden" id="log-meal-date-hidden" name="logDate">
                 <div class="edit-input-container"> <label for="log-meal-type">Meal Type:</label> <select id="log-meal-type" name="mealType" required> <option value="Breakfast">Breakfast</option> <option value="Lunch">Lunch</option> <option value="Dinner">Dinner</option> <option value="Snacks">Snacks</option> </select> </div>
                 <div class="edit-input-container"> <label for="log-food-name">Food Name:</label> <input type="text" id="log-food-name" name="foodName" required placeholder="e.g., Apple, medium"> </div>
                 <div class="edit-input-container"> <label for="log-calories">Calories (kcal):</label> <input type="number" id="log-calories" name="calories" required min="0" step="1" placeholder="e.g., 95"> </div>
                 <div class="edit-input-container"> <label for="log-protein">Protein (g):</label> <input type="number" id="log-protein" name="protein" min="0" step="0.1" placeholder="e.g., 0.5" value="0"> </div>
                 <div class="edit-input-container"> <label for="log-carbs">Carbs (g):</label> <input type="number" id="log-carbs" name="carbs" min="0" step="0.1" placeholder="e.g., 25" value="0"> </div>
                 <div class="edit-input-container"> <label for="log-fat">Fat (g):</label> <input type="number" id="log-fat" name="fat" min="0" step="0.1" placeholder="e.g., 0.3" value="0"> </div>
                 <p id="log-meal-validation-error" class="validation-error" style="display: none;"></p>
                <div class="modal-actions">
                    <button type="submit" id="log-meal-save-button">Log Item</button>
                </div>
            </form>
            <div class="logged-items-display">
                 <h4>Logged Today (<span id="logged-items-date-display">Date</span>):</h4>
                 <ul id="logged-items-list">
                     <li class="no-items-logged">No items logged yet for this date.</li>
                 </ul>
             </div>
        </div>
    </div>

    <div id="logoutConfirmationModal" class="modal">
        <div class="modal-content">
            <button id="closeLogoutModalButton" class="modal-close-btn" aria-label="Close modal"></button>
            <p id="logoutModalMessage">Are you sure you want to logout?</p>
            <div class="modal-actions">
                 <button id="cancelLogoutButton" class="btn-secondary">Cancel</button>
                 <button id="okLogoutButton" class="btn-primary">Logout</button>
            </div>
        </div>
    </div>

    <div id="alertModal" class="modal">
        <div class="modal-content">
            <button id="closeAlertModalButton" class="modal-close-btn" aria-label="Close modal"></button>
            <p id="alertModalMessage">Alert Message Goes Here</p>
            <div class="modal-actions">
                 <button id="alertModalOkButton" class="btn-primary">OK</button>
            </div>
        </div>
    </div>

     <section id="subscribe" class="subscribe-section">
        <div class="container subscribe-content">
             <div class="subscribe-text">
                <h2>Subscribe</h2>
                <p>Join our fitness family and get tips, exclusive updates, and special offers. Start your journey today!</p>
                <form class="subscribe-form" id="subscribeForm_footer"> <!-- Changed ID to avoid conflict if another form exists -->
                    <input type="email" id="subscribeEmail_footer" placeholder="Email" required>
                    <button type="submit" class="btn btn-primary">Send</button>
                </form>
                <div class="social-icons">
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
                    <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="footer-links">
                 <div><h4>Company</h4><ul><li><a href="#">Press</a></li><li><a href="#">Blog</a></li><li><a href="#">About</a></li><li><a href="#">Careers</a></li></ul></div> <div><h4>Services</h4><ul><li><a href="#">Training</a></li><li><a href="#">Nutrition</a></li><li><a href="#">Lifestyles</a></li></ul></div> <div><h4>Legal</h4><ul><li><a href="#">Policy</a></li><li><a href="#">Privacy & Cookies</a></li><li><a href="#">Terms & Conditions</a></li></ul></div> <div><h4>Community</h4><ul><li><a href="#">Contact</a></li><li><a href="#">Find a club</a></li><li><a href="#">Membership</a></li></ul></div> <div><h4>Gym</h4><ul><li><a href="#">Book a Gym</a></li><li><a href="#">Find a Gym</a></li></ul></div>
            </div>
        </div>
    </section>
    <footer>
        <div class="container">
            <p> 2024 OPTILIFE. All Rights Reserved.</p>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>

    <script>
      $(document).ready(function() {
          const $menuIcon = $('#menu-icon');
          const $navbar = $('.navbar');
          const $logoutLink = $('#logout-link');
          const $logoutModal = $('#logoutConfirmationModal');
          const $alertModal = $('#alertModal');
          const $alertModalMessage = $('#alertModalMessage');

          const $logMealModal = $('#log-meal-modal');
          const $logMealForm = $('#log-meal-form');
          const $logMealModalDate = $('#log-meal-modal-date');
          const $logMealDateHidden = $('#log-meal-date-hidden');
          const $logMealTypeSelect = $('#log-meal-type');
          const $loggedItemsList = $('#logged-items-list');
          const $loggedItemsDateDisplay = $('#logged-items-date-display');
          const $logMealValidationError = $('#log-meal-validation-error');
          const $activityForm = $('#activity-form');
          const $weeklyPlanDisplay = $('#weekly-plan-display');

          let selectedDate = moment().format('YYYY-MM-DD');
          let currentMonthMoment = moment(selectedDate); // Used for calendar navigation if it were present
          const foodLog = {};
          const activityLog = {}; // { 'DayName': [{activity details}, ...] }

          if ($menuIcon.length && $navbar.length) {
              $menuIcon.on('click', function() { $(this).toggleClass('bx-x'); $navbar.toggleClass('active'); });
              $navbar.on('click', 'a, .profile-pic', function() { if ($navbar.hasClass('active') && !$(this).is('#logout-link')) { $navbar.removeClass('active'); $menuIcon.removeClass('bx-x'); } });
              $(window).on('scroll', function() { if ($navbar.hasClass('active')) { $navbar.removeClass('active'); $menuIcon.removeClass('bx-x'); } });
          }

          function showAlertModal(message) { $alertModalMessage.text(message); $alertModal.addClass('active'); }
          $alertModal.on('click', '.modal-close-btn, #alertModalOkButton', function() { $alertModal.removeClass('active'); });
          $(window).on('click', function(e) {
              if ($(e.target).is($alertModal) && $alertModal.hasClass('active')) $alertModal.removeClass('active');
              if ($(e.target).is($logoutModal) && $logoutModal.hasClass('active')) $logoutModal.removeClass('active');
              if ($(e.target).is($logMealModal) && $logMealModal.hasClass('active')) closeLogMealModal();
          });


          if ($logoutLink.length && $logoutModal.length) {
              $logoutLink.on('click', function(e) { e.preventDefault(); $logoutModal.addClass('active'); });
              $logoutModal.on('click', '.modal-close-btn, #cancelLogoutButton', function() { $logoutModal.removeClass('active'); });
              $logoutModal.find('#okLogoutButton').on('click', function() { $logoutModal.removeClass('active'); window.location.href = $logoutLink.attr('href'); });
          } else {
              $logoutLink.on('click', function(e) { e.preventDefault(); if(confirm("Modal not found. Logout anyway?")) window.location.href = this.href; });
          }


          function openLogMealModal(event) {
              const mealType = $(event.currentTarget).data('meal-type');
              $logMealTypeSelect.val(mealType);
              // Use a fixed "today" or selected date if calendar was present
              const displayDate = moment(selectedDate); // Or just moment() if no calendar interaction
              $logMealModalDate.text(displayDate.format('MMMM D, YYYY'));
              $logMealDateHidden.val(displayDate.format('YYYY-MM-DD'));
              $loggedItemsDateDisplay.text(displayDate.format('MMMM D'));

              $logMealValidationError.hide().text('');
              displayLoggedItemsForDate(displayDate.format('YYYY-MM-DD'));
              $logMealModal.addClass('active');
              $logMealForm[0].reset();
              $('#log-meal-type').val(mealType); // Pre-select based on button
              $('#log-food-name').focus();
          }
          function closeLogMealModal() { $logMealModal.removeClass('active'); $logMealForm[0].reset(); $logMealValidationError.hide().text(''); }

          $('.add-food-btn').on('click', openLogMealModal); // For the + buttons on meal items
          $logMealModal.on('click', '.modal-close-btn, #log-meal-cancel-button', closeLogMealModal);
          $logMealForm.on('submit', handleLogMealSubmit);
          $loggedItemsList.on('click', '.remove-logged-item-btn', removeLoggedItem);


          $('.main-tab-button').on('click', function() {
              const targetSelector = $(this).data('target');
              $('.main-tab-button').removeClass('active'); $(this).addClass('active');
              $('.main-tab-content .tab-content').removeClass('active'); $(targetSelector).addClass('active');
          });
          $('.tabs .tab-button').on('click', function() {
              const tabId = $(this).data('tab'); const $container = $(this).closest('.content-placeholder');
              $container.find('.tabs .tab-button').removeClass('active'); $(this).addClass('active');
              $container.find('.nutrition-tab-content').removeClass('active'); $container.find('#' + tabId + '-content').addClass('active');
              if (tabId === 'calories' || tabId === 'macros' || tabId === 'nutrients') { updateNutritionDisplay(); }
          });

          // Since calendar grid is removed, direct date selection is not present.
          // We'll use current 'selectedDate' which defaults to today or can be set by other means if needed.
          $('#startDate').on('change', function() {
             selectedDate = $(this).val(); // Update selectedDate if start date changes
             // Potentially re-render things that depend on selectedDate
             updateNutritionDisplay(); // For example
          });


          function addActivityToPlan(event) {
              event.preventDefault();
              const day = $('#activity-day').val();
              const type = $('#activity-type').val();
              const name = $('#activity-name').val().trim();
              const reps = $('#activity-reps').val().trim();
              const sets = $('#activity-sets').val().trim();
              const weight = $('#activity-weight').val().trim();
              const duration = $('#activity-duration').val().trim();

              if (!day || (!name && type !== 'Rest Day')) { showAlertModal('Please select a day and enter an activity name (unless selecting Rest Day).'); return; }

              let displayText = `<strong>${type}</strong>${name ? ': ' + name : ''}`;
              const details = [];
              if (reps) details.push(`Reps: ${reps}`);
              if (sets) details.push(`Sets: ${sets}`);
              if (weight) details.push(`Weight: ${weight}lb`);
              if (duration) details.push(`Duration: ${duration}`);
              if (details.length > 0) displayText += ` <small><em>(${details.join(', ')})</em></small>`;

              const $dayList = $weeklyPlanDisplay.find(`ul[data-day="${day}"]`);
              const $listItem = $(`<li>${displayText}<button class="remove-activity-btn" title="Remove Activity"><i class="fas fa-times"></i></button></li>`);
              $dayList.find('.no-activities').remove(); $dayList.append($listItem);

              if (!activityLog[day]) activityLog[day] = [];
              activityLog[day].push({ type, name, reps, sets, weight, duration });
              $('#activity-form')[0].reset(); // Reset the form
          }
          function removeActivityFromPlan(event) {
              const $listItem = $(event.currentTarget).closest('li'); // Corrected to currentTarget
              const $dayList = $listItem.closest('ul');
              const day = $dayList.data('day');
              const itemIndex = $listItem.index();
              if (activityLog[day] && activityLog[day][itemIndex] !== undefined) activityLog[day].splice(itemIndex, 1);
              $listItem.remove();
          }
          $activityForm.on('submit', addActivityToPlan);
          $weeklyPlanDisplay.on('click', '.remove-activity-btn', removeActivityFromPlan);

          function displayLoggedItemsForDate(dateStr) {
              $loggedItemsList.empty(); const items = foodLog[dateStr] || [];
              if (items.length === 0) { $loggedItemsList.append('<li class="no-items-logged">No items logged yet for this date.</li>'); }
              else {
                  items.forEach((item, index) => {
                      $loggedItemsList.append(`
                          <li>
                              <span class="item-details">[${item.mealType}]</span>
                              <span class="item-name">${item.foodName}</span>
                              <span class="item-details">${item.calories} kcal</span>
                              <button class="remove-logged-item-btn" data-index="${index}" title="Remove Item"><i class="fas fa-times"></i></button>
                          </li>`);
                  });
              }
          }
          function removeLoggedItem(event) {
             const $button = $(event.currentTarget).closest('.remove-logged-item-btn'); // Corrected
             const indexToRemove = $button.data('index'); const dateStr = $logMealDateHidden.val(); // Use date from modal
             if (foodLog[dateStr] && foodLog[dateStr][indexToRemove] !== undefined) {
                 foodLog[dateStr].splice(indexToRemove, 1);
                 displayLoggedItemsForDate(dateStr); updateNutritionDisplay();
             }
          }
          function handleLogMealSubmit(event) {
              event.preventDefault(); $logMealValidationError.hide().text('');
              const foodName = $('#log-food-name').val().trim(); const calories = $('#log-calories').val();
              if (!foodName) { $logMealValidationError.text('Food Name is required.').show(); return; }
              if (calories === '' || isNaN(calories) || parseFloat(calories) < 0) { $logMealValidationError.text('Valid Calories (0 or more) are required.').show(); return; }
              const dateForLog = $logMealDateHidden.val();
              const newItem = {
                  id: Date.now(), date: dateForLog, mealType: $logMealTypeSelect.val(), foodName: foodName,
                  calories: parseFloat(calories), protein: parseFloat($('#log-protein').val()) || 0,
                  carbs: parseFloat($('#log-carbs').val()) || 0, fat: parseFloat($('#log-fat').val()) || 0,
              };
              if (!foodLog[dateForLog]) foodLog[dateForLog] = [];
              foodLog[dateForLog].push(newItem);
              displayLoggedItemsForDate(dateForLog); updateNutritionDisplay();
              $('#log-food-name, #log-calories, #log-protein, #log-carbs, #log-fat').val('');
              $('#log-protein, #log-carbs, #log-fat').val('0'); $('#log-food-name').focus();
          }

          function updateNutritionDisplay() {
              const itemsForSelectedDate = foodLog[selectedDate] || [];
              let totals = { calories: 0, protein: 0, carbs: 0, fat: 0, fiber: 0, sugar: 0, satfat: 0, polyfat: 0, monofat: 0, transfat: 0, cholesterol: 0, sodium: 0, potassium: 0, vita: 0, vitc: 0, calcium: 0, iron: 0 };
              let mealTotals = { Breakfast: 0, Lunch: 0, Dinner: 0, Snacks: 0 };

              itemsForSelectedDate.forEach(item => {
                  Object.keys(totals).forEach(key => { if(item[key]) totals[key] += item[key]; });
                  if (mealTotals.hasOwnProperty(item.mealType) && item.calories) mealTotals[item.mealType] += item.calories;
              });

              const totalCaloriesConsumed = totals.calories;
              $('[data-value="total-calories"]').text(Math.round(totalCaloriesConsumed));
              Object.keys(mealTotals).forEach(meal => {
                  const percentage = totalCaloriesConsumed > 0 ? Math.round((mealTotals[meal] / totalCaloriesConsumed) * 100) : 0;
                  $(`[data-value="${meal.toLowerCase()}-calories"]`).text(`${percentage}% (${Math.round(mealTotals[meal])} cal)`);
              });

              const goalCalories = parseFloat($('[data-value="goal-calories"]').attr('data-goal-value')) || 0;
              const exerciseCalories = parseFloat($('[data-value="exercise-calories"]').attr('data-goal-value')) || 0;
              const netCalories = Math.round(totalCaloriesConsumed - exerciseCalories);
              $('[data-value="net-calories"]').text(netCalories.toLocaleString());
              $('[data-value="calories-remaining"]').text(Math.round(goalCalories - netCalories).toLocaleString());
              // Update displayed goal values (might have been edited)
              $('[data-value="exercise-calories"]').text(`${parseFloat($('[data-value="exercise-calories"]').attr('data-goal-value')).toLocaleString()} cal`);
              $('[data-value="goal-calories"]').text(`${parseFloat($('[data-value="goal-calories"]').attr('data-goal-value')).toLocaleString()}`);

               $('.nutrient-list li').each(function() {
                  const $li = $(this); const nutrientKey = $li.data('nutrient');
                  const totalKey = nutrientKey.replace(/_(\w)/g, (_, p1) => p1.toUpperCase()); // Simplified camelCase
                  const totalValue = totals[nutrientKey] || totals[totalKey] || 0; // Try both snake and camel
                  const $goalSpan = $li.find('.editable[data-id$="-goal"]');
                  const unit = $goalSpan.data('unit') || 'g';
                  const goalValue = parseFloat($goalSpan.attr('data-goal-value')) || 0;
                  const leftValue = Math.max(0, goalValue - totalValue);
                  const decimals = (unit ==='g' && totalValue < 10 && totalValue !== 0 && !Number.isInteger(totalValue)) ? 1:0;
                  $li.find(`[data-value$="-total"]`).text(`${totalValue.toFixed(decimals)}${unit ? ' ' + unit : ''}`);
                  // Goal span text updated by editable handler
                  $li.find(`[data-value$="-left"]`).text(`${leftValue.toFixed(decimals)}${unit ? ' ' + unit : ''}`);
               });

              const totalMacroCalories = (totals.protein * 4) + (totals.carbs * 4) + (totals.fat * 9);
              const proteinPerc = totalMacroCalories > 0 ? Math.round((totals.protein * 4 / totalMacroCalories) * 100) : 0;
              const carbsPerc = totalMacroCalories > 0 ? Math.round((totals.carbs * 4 / totalMacroCalories) * 100) : 0;
              const fatPerc = totalMacroCalories > 0 ? Math.max(0, 100 - proteinPerc - carbsPerc) : 0;
              $('[data-value="macro-protein-g"]').text(totals.protein.toFixed(1) + 'g');
              $('[data-value="macro-carbs-g"]').text(totals.carbs.toFixed(1) + 'g');
              $('[data-value="macro-fat-g"]').text(totals.fat.toFixed(1) + 'g');
              $('[data-value="macro-protein-perc"]').text(proteinPerc + '%');
              $('[data-value="macro-carbs-perc"]').text(carbsPerc + '%');
              $('[data-value="macro-fat-perc"]').text(fatPerc + '%');
              checkMacroGoalTotal();
          }

          function handleEditableClick(event) {
              const $target = $(event.currentTarget); const originalValueText = $target.text();
              const currentValue = $target.attr('data-goal-value') || originalValueText.replace(/[^0-9.]/g, '');
              const label = $target.data('label') || 'value'; const unit = $target.data('unit') || '';
              const newValue = prompt(`Enter new ${label}:`, currentValue);
              if (newValue !== null) {
                  const parsedValue = parseFloat(newValue);
                  if (!isNaN(parsedValue) && parsedValue >= 0) {
                       $target.attr('data-goal-value', parsedValue); // Store unformatted numeric value
                       let displayText = parsedValue.toLocaleString(undefined, {maximumFractionDigits: (unit==='%' || unit==='cal' || unit==='mg' ? 0 : 1)});
                       if(unit) displayText += (unit === '%' ? '%' : ` ${unit}`); // Add unit correctly
                       $target.text(displayText);
                       updateNutritionDisplay(); // This will re-read data-goal-value and update dependent fields
                  } else { showAlertModal('Invalid input. Please enter a non-negative number.'); $target.text(originalValueText); }
              }
           }
          function checkMacroGoalTotal() {
              let totalPerc = 0;
              $('.macros-legend .editable[data-id$="-goal-perc"]').each(function() { totalPerc += parseFloat($(this).attr('data-goal-value')) || 0; });
              const $macroWarning = $('#macro-goal-warning');
              if ($macroWarning.length) {
                  if (Math.round(totalPerc) !== 100) { $macroWarning.text(`Warning: Macro goals sum to ${totalPerc.toFixed(0)}%, should be 100%.`).show(); }
                  else { $macroWarning.hide(); }
              }
              // Update display of goal percentages based on data-goal-value
              $('.macros-legend .editable[data-id$="-goal-perc"]').each(function() {
                 const $el = $(this); const goalVal = parseFloat($el.attr('data-goal-value')) || 0;
                 $el.text(`${goalVal.toFixed(0)}%`);
              });
          }
          $('.main-tab-content').on('click', '.editable[data-editable="true"]', handleEditableClick);
          $('#updateNutritionSummaryBtn').on('click', updateNutritionDisplay); // For the button in the hidden meal log section

          // Initial Setup
          updateNutritionDisplay(); // Calculate based on default 0s and preset goals
          checkMacroGoalTotal(); // Check initial macro goals
          // No calendar rendering, selectedDate defaults to today or Start Date input
          $('#selectedDateForMealLog').text(moment(selectedDate).format('MMMM D, YYYY')); // Set date for example log section


          $('#subscribeForm_footer').on('submit', function(e){ // Ensure footer subscribe form has unique ID if others exist
            e.preventDefault();
            const email = $('#subscribeEmail_footer').val();
            alert(`Subscribed with ${email}! (Footer Demo)`);
            $('#subscribeEmail_footer').val('');
          });

      });
    </script>

</body>
</html>